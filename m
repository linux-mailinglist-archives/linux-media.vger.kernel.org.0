Return-Path: <linux-media-owner@vger.kernel.org>
X-Original-To: lists+linux-media@lfdr.de
Delivered-To: lists+linux-media@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id 29E8D35F8F1
	for <lists+linux-media@lfdr.de>; Wed, 14 Apr 2021 18:33:28 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1352710AbhDNQZk (ORCPT <rfc822;lists+linux-media@lfdr.de>);
        Wed, 14 Apr 2021 12:25:40 -0400
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:59878 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S1352696AbhDNQZh (ORCPT
        <rfc822;linux-media@vger.kernel.org>);
        Wed, 14 Apr 2021 12:25:37 -0400
Received: from mail-lf1-x131.google.com (mail-lf1-x131.google.com [IPv6:2a00:1450:4864:20::131])
        by lindbergh.monkeyblade.net (Postfix) with ESMTPS id 30686C061574
        for <linux-media@vger.kernel.org>; Wed, 14 Apr 2021 09:25:15 -0700 (PDT)
Received: by mail-lf1-x131.google.com with SMTP id 12so34040276lfq.13
        for <linux-media@vger.kernel.org>; Wed, 14 Apr 2021 09:25:15 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=from:to:cc:subject:date:message-id;
        bh=MxgwAPbYR8PIjuZts7OlGG+ztHJjMx4yCer4vLX60Ck=;
        b=aS6XEO+5Wy9sxNa5eEXX4l5OulkaIUolncB2B2dESAgCpyg+/E0rlcxjiu339J1Klp
         yTlTdGG8S/zJ3s73j/pBZW1YiQxsJc867j0NjWRuoQa0VVgQJpI4V3RNnN0O0sQbm90E
         wvHE0S0z22+qsFitcKE5SxMj3u8pQuuPJy8RfHSA74oAWP9luPDWYK7bSRj+GlqVYrZ2
         78mSr/y47/eb80BhHRbyjZWwqYphPXBnoICoin6ZBn4HMsoEk9/24cjDdh/GpcRRDjd+
         FpcYRFtU215q4RQmxLjRz0L4hntxMu6FiCbObgnsOB/96d8TjUIKYKFASbpo6iocqWNJ
         Z1Dw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:from:to:cc:subject:date:message-id;
        bh=MxgwAPbYR8PIjuZts7OlGG+ztHJjMx4yCer4vLX60Ck=;
        b=K7URsZgKZ2f95A5fxsW6bTXqOBNF0eukFZ5KqwdpCxmJ2d3tmGq+sVvNDc5spCGsfE
         v/dN3iOIpr2X9ycf1SEintGy3XOPsZX0sMH2JaK5BtGmIuidNFtDZEdjKmODgThszQSc
         Ki0eyrpNDVNoI2aePY74WYcfTpvG/7+nVONds50e2FW3ZSvbgb+CZ4zeswtD2cO8/tTC
         G467yZav+r3USgKzYCiXsHUlYIg48Ebh4v1Gyhfizvb7koGCwuJJr7/iWEQmnqKLw2zB
         dBfpeOIHBiDuq2q6LjFQ1xRRx1NzUAi+04i0AJ18NRyyT/l9dsM2mAUN+dVgNx2oiJ8F
         NUyA==
X-Gm-Message-State: AOAM5320r9sl7LDrcX4FcVB0qXg0tKtUBBznH7SrK4AdC5xEce/xFg/6
        hIpdJ3nD98qstEmnaWlGlvaojtU00GkEEg==
X-Google-Smtp-Source: ABdhPJxWAEiRK9wmeHtOrmIOaGpiYkvfaQ7WvvxBWWJ4aHMbd7XuRCzPhHE3S08zza2MX0Nh6bVjAg==
X-Received: by 2002:a05:6512:104e:: with SMTP id c14mr27389598lfb.559.1618417513745;
        Wed, 14 Apr 2021 09:25:13 -0700 (PDT)
Received: from localhost.localdomain (cm-84.211.29.145.getinternet.no. [84.211.29.145])
        by smtp.gmail.com with ESMTPSA id e29sm4638552ljp.94.2021.04.14.09.25.12
        (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
        Wed, 14 Apr 2021 09:25:13 -0700 (PDT)
From:   Bernhard Wimmer <be.wimm@gmail.com>
To:     linux-media@vger.kernel.org
Cc:     Bernhard Wimmer <be.wimm@gmail.com>
Subject: [PATCH v2] media: ccs: Fix the op_pll_multiplier address
Date:   Wed, 14 Apr 2021 18:24:53 +0200
Message-Id: <20210414162453.22868-1-be.wimm@gmail.com>
X-Mailer: git-send-email 2.17.1
Precedence: bulk
List-ID: <linux-media.vger.kernel.org>
X-Mailing-List: linux-media@vger.kernel.org

According to the CCS spec the op_pll_multiplier address is 0x030e,
not 0x031e.

Signed-off-by: Bernhard Wimmer <be.wimm@gmail.com>
---
Changes in v2:
  - reflow 'generated by ...' line
  - adjust commit message line break

 Documentation/driver-api/media/drivers/ccs/ccs-regs.asc | 2 +-
 Documentation/driver-api/media/drivers/ccs/mk-ccs-regs  | 5 +++--
 drivers/media/i2c/ccs/ccs-limits.c                      | 4 ++++
 drivers/media/i2c/ccs/ccs-limits.h                      | 4 ++++
 drivers/media/i2c/ccs/ccs-regs.h                        | 6 +++++-
 5 files changed, 17 insertions(+), 4 deletions(-)

diff --git a/Documentation/driver-api/media/drivers/ccs/ccs-regs.asc b/Documentation/driver-api/media/drivers/ccs/ccs-regs.asc
index f2042acc8a45..bbf9213c3388 100644
--- a/Documentation/driver-api/media/drivers/ccs/ccs-regs.asc
+++ b/Documentation/driver-api/media/drivers/ccs/ccs-regs.asc
@@ -210,7 +210,7 @@ pll_multiplier				0x0306	16
 op_pix_clk_div				0x0308	16
 op_sys_clk_div				0x030a	16
 op_pre_pll_clk_div			0x030c	16
-op_pll_multiplier			0x031e	16
+op_pll_multiplier			0x030e	16
 pll_mode				0x0310	8
 - f					0	0
 - e	single				0
diff --git a/Documentation/driver-api/media/drivers/ccs/mk-ccs-regs b/Documentation/driver-api/media/drivers/ccs/mk-ccs-regs
index 6668deaf2f19..2a4edc7e051a 100755
--- a/Documentation/driver-api/media/drivers/ccs/mk-ccs-regs
+++ b/Documentation/driver-api/media/drivers/ccs/mk-ccs-regs
@@ -72,13 +72,14 @@ $uc_header =~ s/[^A-Z0-9]/_/g;
 
 my $copyright = "/* Copyright (C) 2019--2020 Intel Corporation */\n";
 my $license = "SPDX-License-Identifier: GPL-2.0-only OR BSD-3-Clause";
+my $note = "/*\n * Generated by $0;\n * do not modify.\n */\n";
 
 for my $fh ($A, $LC) {
-	print $fh "// $license\n$copyright\n" if defined $fh;
+	print $fh "// $license\n$copyright$note\n" if defined $fh;
 }
 
 for my $fh ($H, $LH) {
-	print $fh "/* $license */\n$copyright\n";
+	print $fh "/* $license */\n$copyright$note\n";
 }
 
 sub bit_def($) {
diff --git a/drivers/media/i2c/ccs/ccs-limits.c b/drivers/media/i2c/ccs/ccs-limits.c
index f5511789ac83..4969fa425317 100644
--- a/drivers/media/i2c/ccs/ccs-limits.c
+++ b/drivers/media/i2c/ccs/ccs-limits.c
@@ -1,5 +1,9 @@
 // SPDX-License-Identifier: GPL-2.0-only OR BSD-3-Clause
 /* Copyright (C) 2019--2020 Intel Corporation */
+/*
+ * Generated by Documentation/driver-api/media/drivers/ccs/mk-ccs-regs;
+ * do not modify.
+ */
 
 #include "ccs-limits.h"
 #include "ccs-regs.h"
diff --git a/drivers/media/i2c/ccs/ccs-limits.h b/drivers/media/i2c/ccs/ccs-limits.h
index 1efa43c23a2e..551d3ee9d04e 100644
--- a/drivers/media/i2c/ccs/ccs-limits.h
+++ b/drivers/media/i2c/ccs/ccs-limits.h
@@ -1,5 +1,9 @@
 /* SPDX-License-Identifier: GPL-2.0-only OR BSD-3-Clause */
 /* Copyright (C) 2019--2020 Intel Corporation */
+/*
+ * Generated by Documentation/driver-api/media/drivers/ccs/mk-ccs-regs;
+ * do not modify.
+ */
 
 #ifndef __CCS_LIMITS_H__
 #define __CCS_LIMITS_H__
diff --git a/drivers/media/i2c/ccs/ccs-regs.h b/drivers/media/i2c/ccs/ccs-regs.h
index 4b3e5df2121f..6ce84c5ecf20 100644
--- a/drivers/media/i2c/ccs/ccs-regs.h
+++ b/drivers/media/i2c/ccs/ccs-regs.h
@@ -1,5 +1,9 @@
 /* SPDX-License-Identifier: GPL-2.0-only OR BSD-3-Clause */
 /* Copyright (C) 2019--2020 Intel Corporation */
+/*
+ * Generated by Documentation/driver-api/media/drivers/ccs/mk-ccs-regs;
+ * do not modify.
+ */
 
 #ifndef __CCS_REGS_H__
 #define __CCS_REGS_H__
@@ -202,7 +206,7 @@
 #define CCS_R_OP_PIX_CLK_DIV					(0x0308 | CCS_FL_16BIT)
 #define CCS_R_OP_SYS_CLK_DIV					(0x030a | CCS_FL_16BIT)
 #define CCS_R_OP_PRE_PLL_CLK_DIV				(0x030c | CCS_FL_16BIT)
-#define CCS_R_OP_PLL_MULTIPLIER					(0x031e | CCS_FL_16BIT)
+#define CCS_R_OP_PLL_MULTIPLIER					(0x030e | CCS_FL_16BIT)
 #define CCS_R_PLL_MODE						0x0310
 #define CCS_PLL_MODE_SHIFT					0U
 #define CCS_PLL_MODE_MASK					0x1
-- 
2.17.1

