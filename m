Return-Path: <linux-media-owner@vger.kernel.org>
X-Original-To: lists+linux-media@lfdr.de
Delivered-To: lists+linux-media@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id DD94B3D4644
	for <lists+linux-media@lfdr.de>; Sat, 24 Jul 2021 10:18:35 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S234600AbhGXHiC (ORCPT <rfc822;lists+linux-media@lfdr.de>);
        Sat, 24 Jul 2021 03:38:02 -0400
Received: from mailgw01.mediatek.com ([60.244.123.138]:60320 "EHLO
        mailgw01.mediatek.com" rhost-flags-OK-FAIL-OK-FAIL) by vger.kernel.org
        with ESMTP id S234216AbhGXHh6 (ORCPT
        <rfc822;linux-media@vger.kernel.org>);
        Sat, 24 Jul 2021 03:37:58 -0400
X-UUID: d1cd232212584b419418c0eeb94df54d-20210724
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=mediatek.com; s=dk;
        h=Content-Transfer-Encoding:MIME-Version:Content-Type:References:In-Reply-To:Date:CC:To:From:Subject:Message-ID; bh=J0yN25JZHNEfnssofagyOsjY9Ns6Uelzjl6td4UChnU=;
        b=EMcreTjMcwFj+SiudDKeYWVVJJOjFBGMVocIh55/yHSK/mAs84iR+YrcV4aWs/iAdIYSWLS2ZAPaKE2Kcb/CBtIwTHpcbQMLdauhYPfQJiirQCcUAKVXCfSkmA0x6YRZ0UL2qLQF4cBjXsUN66wd7lIggrA9/21wzvoDZIRWAvI=;
X-UUID: d1cd232212584b419418c0eeb94df54d-20210724
Received: from mtkcas06.mediatek.inc [(172.21.101.30)] by mailgw01.mediatek.com
        (envelope-from <yunfei.dong@mediatek.com>)
        (Generic MTA with TLSv1.2 ECDHE-RSA-AES256-SHA384 256/256)
        with ESMTP id 883894818; Sat, 24 Jul 2021 16:18:26 +0800
Received: from mtkcas07.mediatek.inc (172.21.101.84) by
 mtkmbs07n2.mediatek.inc (172.21.101.141) with Microsoft SMTP Server (TLS) id
 15.0.1497.2; Sat, 24 Jul 2021 16:18:25 +0800
Received: from [10.17.3.153] (10.17.3.153) by mtkcas07.mediatek.inc
 (172.21.101.73) with Microsoft SMTP Server id 15.0.1497.2 via Frontend
 Transport; Sat, 24 Jul 2021 16:18:24 +0800
Message-ID: <1627114703.32022.13.camel@mhfsdcap03>
Subject: Re: [PATCH v2, 03/14] media: mtk-vcodec: Use component framework to
 manage each hardware information
From:   mtk12024 <yunfei.dong@mediatek.com>
To:     Dafna Hirschfeld <dafna.hirschfeld@collabora.com>
CC:     Alexandre Courbot <acourbot@chromium.org>,
        Hans Verkuil <hverkuil-cisco@xs4all.nl>,
        Tzung-Bi Shih <tzungbi@chromium.org>,
        "Tiffany Lin" <tiffany.lin@mediatek.com>,
        Andrew-CT Chen <andrew-ct.chen@mediatek.com>,
        Mauro Carvalho Chehab <mchehab@kernel.org>,
        Rob Herring <robh+dt@kernel.org>,
        Matthias Brugger <matthias.bgg@gmail.com>,
        Tomasz Figa <tfiga@google.com>,
        Hsin-Yi Wang <hsinyi@chromium.org>,
        Fritz Koenig <frkoenig@chromium.org>,
        Irui Wang <irui.wang@mediatek.com>,
        <linux-media@vger.kernel.org>, <devicetree@vger.kernel.org>,
        <linux-kernel@vger.kernel.org>,
        <linux-arm-kernel@lists.infradead.org>,
        <srv_heupstream@mediatek.com>,
        <linux-mediatek@lists.infradead.org>,
        <Project_Global_Chrome_Upstream_Group@mediatek.com>,
        Collabora Kernel ML <kernel@collabora.com>,
        Enric Balletbo i Serra <enric.balletbo@collabora.com>
Date:   Sat, 24 Jul 2021 16:18:23 +0800
In-Reply-To: <281efe4d-aa38-53f7-7b90-8458b0d366f0@collabora.com>
References: <20210717081233.7809-1-yunfei.dong@mediatek.com>
         <20210717081233.7809-4-yunfei.dong@mediatek.com>
         <281efe4d-aa38-53f7-7b90-8458b0d366f0@collabora.com>
Content-Type: text/plain; charset="UTF-8"
X-Mailer: Evolution 3.10.4-0ubuntu2 
MIME-Version: 1.0
X-MTK:  N
Content-Transfer-Encoding: base64
Precedence: bulk
List-ID: <linux-media.vger.kernel.org>
X-Mailing-List: linux-media@vger.kernel.org

SGkgRGFmbmEsDQoNClRoYW5rcyBmb3IgeW91ciBkZXRhaWwgYWR2aWNlcy4NCk9uIE1vbiwgMjAy
MS0wNy0xOSBhdCAxMTowMCArMDIwMCwgRGFmbmEgSGlyc2NoZmVsZCB3cm90ZToNCj4gDQo+IE9u
IDE3LjA3LjIxIDEwOjEyLCBZdW5mZWkgRG9uZyB3cm90ZToNCj4gPiBVc2VzIGNvbXBvbmVudCBm
cmFtZXdvcmsgdG8gbWFuYWdlIGVhY2ggaGFyZHdhcmUgaW5mb3JtYXRpb24gd2hpY2gNCj4gPiBp
bmNsdWRlcyBpcnEvcG93ZXIvY2xrLiBUaGUgaGFyZHdhcmUgaW5jbHVkZXMgTEFUMCwgTEFUMSBh
bmQgQ09SRS4NCj4gPiANCj4gPiBTaWduZWQtb2ZmLWJ5OiBZdW5mZWkgRG9uZyA8eXVuZmVpLmRv
bmdAbWVkaWF0ZWsuY29tPg0KPiA+IC0tLQ0KPiA+IHYyOiBmaXggY29kaW5nIHN0eWxlIGFuZCBy
ZW1vdmUgdXNlbGVzcyBoZWFkZXIgZmlsZXMNCj4gPiAtLS0NCj4gPiAgIGRyaXZlcnMvbWVkaWEv
cGxhdGZvcm0vbXRrLXZjb2RlYy9NYWtlZmlsZSAgICB8ICAgMSArDQo+ID4gICAuLi4vcGxhdGZv
cm0vbXRrLXZjb2RlYy9tdGtfdmNvZGVjX2RlYy5oICAgICAgfCAgIDEgKw0KPiA+ICAgLi4uL3Bs
YXRmb3JtL210ay12Y29kZWMvbXRrX3Zjb2RlY19kZWNfZHJ2LmMgIHwgMjIwICsrKysrKysrKysr
KysrKy0tLQ0KPiA+ICAgLi4uL3BsYXRmb3JtL210ay12Y29kZWMvbXRrX3Zjb2RlY19kZWNfaHcu
YyAgIHwgMTkzICsrKysrKysrKysrKysrKw0KPiA+ICAgLi4uL3BsYXRmb3JtL210ay12Y29kZWMv
bXRrX3Zjb2RlY19kZWNfaHcuaCAgIHwgIDQ2ICsrKysNCj4gPiAgIC4uLi9wbGF0Zm9ybS9tdGst
dmNvZGVjL210a192Y29kZWNfZHJ2LmggICAgICB8ICAyNiArKysNCj4gPiAgIDYgZmlsZXMgY2hh
bmdlZCwgNDUyIGluc2VydGlvbnMoKyksIDM1IGRlbGV0aW9ucygtKQ0KPiA+ICAgY3JlYXRlIG1v
ZGUgMTAwNjQ0IGRyaXZlcnMvbWVkaWEvcGxhdGZvcm0vbXRrLXZjb2RlYy9tdGtfdmNvZGVjX2Rl
Y19ody5jDQo+ID4gICBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9tZWRpYS9wbGF0Zm9ybS9t
dGstdmNvZGVjL210a192Y29kZWNfZGVjX2h3LmgNCj4gPiANCj4gPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9tZWRpYS9wbGF0Zm9ybS9tdGstdmNvZGVjL01ha2VmaWxlIGIvZHJpdmVycy9tZWRpYS9w
bGF0Zm9ybS9tdGstdmNvZGVjL01ha2VmaWxlDQo+ID4gaW5kZXggY2E4ZTllN2E5YzRlLi5lZGVi
M2I2NmU5ZTkgMTAwNjQ0DQo+ID4gLS0tIGEvZHJpdmVycy9tZWRpYS9wbGF0Zm9ybS9tdGstdmNv
ZGVjL01ha2VmaWxlDQo+ID4gKysrIGIvZHJpdmVycy9tZWRpYS9wbGF0Zm9ybS9tdGstdmNvZGVj
L01ha2VmaWxlDQo+ID4gQEAgLTE1LDYgKzE1LDcgQEAgbXRrLXZjb2RlYy1kZWMteSA6PSB2ZGVj
L3ZkZWNfaDI2NF9pZi5vIFwNCj4gPiAgIAkJbXRrX3Zjb2RlY19kZWNfc3RhdGVmdWwubyBcDQo+
ID4gICAJCW10a192Y29kZWNfZGVjX3N0YXRlbGVzcy5vIFwNCj4gPiAgIAkJbXRrX3Zjb2RlY19k
ZWNfcG0ubyBcDQo+ID4gKwkJbXRrX3Zjb2RlY19kZWNfaHcubyBcDQo+ID4gICANCj4gPiAgIG10
ay12Y29kZWMtZW5jLXkgOj0gdmVuYy92ZW5jX3ZwOF9pZi5vIFwNCj4gPiAgIAkJdmVuYy92ZW5j
X2gyNjRfaWYubyBcDQo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvbWVkaWEvcGxhdGZvcm0vbXRr
LXZjb2RlYy9tdGtfdmNvZGVjX2RlYy5oIGIvZHJpdmVycy9tZWRpYS9wbGF0Zm9ybS9tdGstdmNv
ZGVjL210a192Y29kZWNfZGVjLmgNCj4gPiBpbmRleCA5ZmJkMjQxODZjMWEuLmM1MDkyMjRjYmZm
NCAxMDA2NDQNCj4gPiAtLS0gYS9kcml2ZXJzL21lZGlhL3BsYXRmb3JtL210ay12Y29kZWMvbXRr
X3Zjb2RlY19kZWMuaA0KPiA+ICsrKyBiL2RyaXZlcnMvbWVkaWEvcGxhdGZvcm0vbXRrLXZjb2Rl
Yy9tdGtfdmNvZGVjX2RlYy5oDQo+ID4gQEAgLTY2LDYgKzY2LDcgQEAgZXh0ZXJuIGNvbnN0IHN0
cnVjdCB2NGwyX2lvY3RsX29wcyBtdGtfdmRlY19pb2N0bF9vcHM7DQo+ID4gICBleHRlcm4gY29u
c3Qgc3RydWN0IHY0bDJfbTJtX29wcyBtdGtfdmRlY19tMm1fb3BzOw0KPiA+ICAgZXh0ZXJuIGNv
bnN0IHN0cnVjdCBtZWRpYV9kZXZpY2Vfb3BzIG10a192Y29kZWNfbWVkaWFfb3BzOw0KPiA+ICAg
DQo+ID4gK2V4dGVybiBzdHJ1Y3QgcGxhdGZvcm1fZHJpdmVyIG10a192ZGVjX2NvbXBfZHJpdmVy
Ow0KPiA+ICAgDQo+ID4gICAvKg0KPiA+ICAgICogbXRrX3ZkZWNfbG9jay9tdGtfdmRlY191bmxv
Y2sgYXJlIGZvciBjdHggaW5zdGFuY2UgdG8NCj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9tZWRp
YS9wbGF0Zm9ybS9tdGstdmNvZGVjL210a192Y29kZWNfZGVjX2Rydi5jIGIvZHJpdmVycy9tZWRp
YS9wbGF0Zm9ybS9tdGstdmNvZGVjL210a192Y29kZWNfZGVjX2Rydi5jDQo+ID4gaW5kZXggOGQ3
YmE4ODFlZjc1Li5lN2Y2MGU5NDhmZTggMTAwNjQ0DQo+ID4gLS0tIGEvZHJpdmVycy9tZWRpYS9w
bGF0Zm9ybS9tdGstdmNvZGVjL210a192Y29kZWNfZGVjX2Rydi5jDQo+ID4gKysrIGIvZHJpdmVy
cy9tZWRpYS9wbGF0Zm9ybS9tdGstdmNvZGVjL210a192Y29kZWNfZGVjX2Rydi5jDQo+ID4gQEAg
LTUsNiArNSw3IEBADQo+ID4gICAgKiAgICAgICAgIFRpZmZhbnkgTGluIDx0aWZmYW55LmxpbkBt
ZWRpYXRlay5jb20+DQo+ID4gICAgKi8NCj4gPiAgIA0KPiA+ICsjaW5jbHVkZSA8bGludXgvY29t
cG9uZW50Lmg+DQo+ID4gICAjaW5jbHVkZSA8bGludXgvc2xhYi5oPg0KPiA+ICAgI2luY2x1ZGUg
PGxpbnV4L2ludGVycnVwdC5oPg0KPiA+ICAgI2luY2x1ZGUgPGxpbnV4L2lycS5oPg0KPiA+IEBA
IC0yMywxNCArMjQsNTAgQEANCj4gPiAgICNpbmNsdWRlICJtdGtfdmNvZGVjX3V0aWwuaCINCj4g
PiAgICNpbmNsdWRlICJtdGtfdmNvZGVjX2Z3LmgiDQo+ID4gICANCj4gPiAtI2RlZmluZSBWREVD
X0hXX0FDVElWRQkweDEwDQo+ID4gLSNkZWZpbmUgVkRFQ19JUlFfQ0ZHCTB4MTENCj4gPiAtI2Rl
ZmluZSBWREVDX0lSUV9DTFIJMHgxMA0KPiA+IC0jZGVmaW5lIFZERUNfSVJRX0NGR19SRUcJMHhh
NA0KPiA+IC0NCj4gPiAgIG1vZHVsZV9wYXJhbShtdGtfdjRsMl9kYmdfbGV2ZWwsIGludCwgMDY0
NCk7DQo+ID4gICBtb2R1bGVfcGFyYW0obXRrX3Zjb2RlY19kYmcsIGJvb2wsIDA2NDQpOw0KPiA+
ICAgDQo+ID4gK3N0YXRpYyBzdHJ1Y3Qgb2ZfZGV2aWNlX2lkIG10a192ZGVjX2Rydl9pZHNbXSA9
IHsNCj4gPiArCXsNCj4gPiArCQkuY29tcGF0aWJsZSA9ICJtZWRpYXRlayxtdGstdmNvZGVjLWxh
dCIsDQo+ID4gKwkJLmRhdGEgPSAodm9pZCAqKU1US19WREVDX0xBVDAsDQo+ID4gKwl9LA0KPiA+
ICsJew0KPiA+ICsJCS5jb21wYXRpYmxlID0gIm1lZGlhdGVrLG10ay12Y29kZWMtY29yZSIsDQo+
ID4gKwkJLmRhdGEgPSAodm9pZCAqKU1US19WREVDX0NPUkUsDQo+ID4gKwl9LA0KPiA+ICsJe30s
DQo+ID4gK307DQo+ID4gKw0KPiA+ICtzdGF0aWMgaW5saW5lIGludCBtdGtfdmRlY19jb21wYXJl
X29mKHN0cnVjdCBkZXZpY2UgKmRldiwgdm9pZCAqZGF0YSkNCj4gPiArew0KPiA+ICsJcmV0dXJu
IGRldi0+b2Zfbm9kZSA9PSBkYXRhOw0KPiA+ICt9DQo+ID4gKw0KPiA+ICtzdGF0aWMgaW5saW5l
IHZvaWQgbXRrX3ZkZWNfcmVsZWFzZV9vZihzdHJ1Y3QgZGV2aWNlICpkZXYsIHZvaWQgKmRhdGEp
DQo+ID4gK3sNCj4gPiArCW9mX25vZGVfcHV0KGRhdGEpOw0KPiA+ICt9DQo+ID4gKw0KPiA+ICtz
dGF0aWMgaW5saW5lIGludCBtdGtfdmRlY19iaW5kKHN0cnVjdCBkZXZpY2UgKmRldikNCj4gPiAr
ew0KPiA+ICsJc3RydWN0IG10a192Y29kZWNfZGV2ICpkYXRhID0gZGV2X2dldF9kcnZkYXRhKGRl
dik7DQo+ID4gKw0KPiA+ICsJcmV0dXJuIGNvbXBvbmVudF9iaW5kX2FsbChkZXYsIGRhdGEpOw0K
PiA+ICt9DQo+ID4gKw0KPiA+ICtzdGF0aWMgaW5saW5lIHZvaWQgbXRrX3ZkZWNfdW5iaW5kKHN0
cnVjdCBkZXZpY2UgKmRldikNCj4gPiArew0KPiA+ICsJc3RydWN0IG10a192Y29kZWNfZGV2ICpk
YXRhID0gZGV2X2dldF9kcnZkYXRhKGRldik7DQo+ID4gKw0KPiA+ICsJY29tcG9uZW50X3VuYmlu
ZF9hbGwoZGV2LCBkYXRhKTsNCj4gPiArfQ0KPiA+ICsNCj4gPiArc3RhdGljIGNvbnN0IHN0cnVj
dCBjb21wb25lbnRfbWFzdGVyX29wcyBtdGtfdmRlY19vcHMgPSB7DQo+ID4gKwkuYmluZCA9IG10
a192ZGVjX2JpbmQsDQo+ID4gKwkudW5iaW5kID0gbXRrX3ZkZWNfdW5iaW5kLA0KPiA+ICt9Ow0K
PiA+ICsNCj4gPiAgIC8qIFdha2UgdXAgY29udGV4dCB3YWl0X3F1ZXVlICovDQo+ID4gICBzdGF0
aWMgdm9pZCB3YWtlX3VwX2N0eChzdHJ1Y3QgbXRrX3Zjb2RlY19jdHggKmN0eCkNCj4gPiAgIHsN
Cj4gPiBAQCAtMzgsNiArNzUsNDggQEAgc3RhdGljIHZvaWQgd2FrZV91cF9jdHgoc3RydWN0IG10
a192Y29kZWNfY3R4ICpjdHgpDQo+ID4gICAJd2FrZV91cF9pbnRlcnJ1cHRpYmxlKCZjdHgtPnF1
ZXVlKTsNCj4gPiAgIH0NCj4gPiAgIA0KPiA+ICtzdGF0aWMgc3RydWN0IGNvbXBvbmVudF9tYXRj
aCAqbXRrX3Zjb2RlY19tYXRjaF9hZGQoDQo+ID4gKwlzdHJ1Y3QgbXRrX3Zjb2RlY19kZXYgKnZk
ZWNfZGV2KQ0KPiA+ICt7DQo+ID4gKwlzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2ID0gdmRl
Y19kZXYtPnBsYXRfZGV2Ow0KPiA+ICsJc3RydWN0IGNvbXBvbmVudF9tYXRjaCAqbWF0Y2ggPSBO
VUxMOw0KPiA+ICsJaW50IGk7DQo+ID4gKw0KPiA+ICsJZm9yIChpID0gMDsgaSA8IEFSUkFZX1NJ
WkUobXRrX3ZkZWNfZHJ2X2lkcyk7IGkrKykgew0KPiA+ICsJCXN0cnVjdCBkZXZpY2Vfbm9kZSAq
Y29tcF9ub2RlOw0KPiA+ICsJCWVudW0gbXRrX3ZkZWNfaHdfaWQgY29tcF9pZHg7DQo+ID4gKwkJ
Y29uc3Qgc3RydWN0IG9mX2RldmljZV9pZCAqb2ZfaWQ7DQo+ID4gKw0KPiA+ICsJCWNvbXBfbm9k
ZSA9IG9mX2ZpbmRfY29tcGF0aWJsZV9ub2RlKE5VTEwsIE5VTEwsDQo+ID4gKwkJCW10a192ZGVj
X2Rydl9pZHNbaV0uY29tcGF0aWJsZSk7DQo+ID4gKwkJaWYgKCFjb21wX25vZGUpDQo+ID4gKwkJ
CWNvbnRpbnVlOw0KPiA+ICsNCj4gPiArCQlpZiAoIW9mX2RldmljZV9pc19hdmFpbGFibGUoY29t
cF9ub2RlKSkgew0KPiA+ICsJCQlvZl9ub2RlX3B1dChjb21wX25vZGUpOw0KPiA+ICsJCQlkZXZf
ZXJyKCZwZGV2LT5kZXYsICJGYWlsIHRvIGdldCBNTVNZUyBub2RlXG4iKTsNCj4gPiArCQkJY29u
dGludWU7DQo+ID4gKwkJfQ0KPiA+ICsNCj4gPiArCQlvZl9ub2RlX3B1dChjb21wX25vZGUpOw0K
PiANCj4gSSB0aGluayB0aGlzIGxpbmUgc2hvdWxkIGNvbWUgYWZ0ZXIgdGhlIGxhc3QgdXNhZ2Ug
b2YgY29tcF9ub2RlDQo+IA0KPiA+ICsJCW9mX2lkID0gb2ZfbWF0Y2hfbm9kZShtdGtfdmRlY19k
cnZfaWRzLCBjb21wX25vZGUpOw0KPiANCj4gSSB0aGluayB0aGlzIG1pZ2h0IGJlIHJlZHVuZGVu
dCBzaW5jZSBvZl9tYXRjaF9ub2RlIHdpbGwgcmV0dXJuICZtdGtfdmRlY19kcnZfaWRzW2ldDQo+
IFNvIEkgdGhpbmsgeW91IGNhbiBqdXN0IGRvOg0KPiBvZl9pZCA9ICZtdGtfdmRlY19kcnZfaWRz
W2ldDQo+IA0KWW91IGFyZSByaWdodCwgZml4Lg0KPiA+ICsJCWlmICghb2ZfaWQpIHsNCj4gPiAr
CQkJZGV2X2VycigmcGRldi0+ZGV2LCAiRmFpbGVkIHRvIGdldCBtYXRjaCBub2RlXG4iKTsNCj4g
PiArCQkJcmV0dXJuIEVSUl9QVFIoLUVJTlZBTCk7DQo+ID4gKwkJPiArDQo+ID4gKwkJY29tcF9p
ZHggPSAoZW51bSBtdGtfdmRlY19od19pZClvZl9pZC0+ZGF0YTsNCj4gPiArCQltdGtfdjRsMl9k
ZWJ1Zyg0LCAiR2V0IGNvbXBvbmVudDpod19pZCglZCksdmRlY19kZXYoMHglcCksY29tcF9ub2Rl
KDB4JXApXG4iLA0KPiA+ICsJCQljb21wX2lkeCwgdmRlY19kZXYsIGNvbXBfbm9kZSk7DQo+ID4g
KwkJdmRlY19kZXYtPmNvbXBvbmVudF9ub2RlW2NvbXBfaWR4XSA9IGNvbXBfbm9kZTsNCj4gPiAr
DQo+ID4gKwkJY29tcG9uZW50X21hdGNoX2FkZF9yZWxlYXNlKCZwZGV2LT5kZXYsICZtYXRjaCwg
bXRrX3ZkZWNfcmVsZWFzZV9vZiwNCj4gPiArCQkJbXRrX3ZkZWNfY29tcGFyZV9vZiwgY29tcF9u
b2RlKTsNCj4gPiArCX0NCj4gPiArDQo+ID4gKwlyZXR1cm4gbWF0Y2g7DQo+ID4gK30NCj4gPiAr
DQo+ID4gICBzdGF0aWMgaXJxcmV0dXJuX3QgbXRrX3Zjb2RlY19kZWNfaXJxX2hhbmRsZXIoaW50
IGlycSwgdm9pZCAqcHJpdikNCj4gPiAgIHsNCj4gPiAgIAlzdHJ1Y3QgbXRrX3Zjb2RlY19kZXYg
KmRldiA9IHByaXY7DQo+ID4gQEAgLTEwMyw2ICsxODIsNjYgQEAgc3RhdGljIGludCBtdGtfdmNv
ZGVjX2dldF9yZWdfYmFzZXMoc3RydWN0IG10a192Y29kZWNfZGV2ICpkZXYpDQo+ID4gICAJcmV0
dXJuIHJldDsNCj4gPiAgIH0NCj4gPiAgIA0KPiA+ICtzdGF0aWMgaW50IG10a192Y29kZWNfaW5p
dF9tYXN0ZXIoc3RydWN0IG10a192Y29kZWNfZGV2ICpkZXYpDQo+ID4gK3sNCj4gPiArCXN0cnVj
dCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYgPSBkZXYtPnBsYXRfZGV2Ow0KPiA+ICsJc3RydWN0IGNv
bXBvbmVudF9tYXRjaCAqbWF0Y2g7DQo+ID4gKwlpbnQgcmV0Ow0KPiA+ICsNCj4gPiArCW1hdGNo
ID0gbXRrX3Zjb2RlY19tYXRjaF9hZGQoZGV2KTsNCj4gPiArCWlmIChJU19FUlJfT1JfTlVMTCht
YXRjaCkpDQo+ID4gKwkJcmV0dXJuIC1FSU5WQUw7DQo+ID4gKw0KPiA+ICsJcGxhdGZvcm1fc2V0
X2RydmRhdGEocGRldiwgZGV2KTsNCj4gPiArCXJldCA9IGNvbXBvbmVudF9tYXN0ZXJfYWRkX3dp
dGhfbWF0Y2goJnBkZXYtPmRldiwgJm10a192ZGVjX29wcywgbWF0Y2gpOw0KPiA+ICsJaWYgKHJl
dCA8IDApDQo+ID4gKwkJcmV0dXJuIHJldDsNCj4gPiArDQo+ID4gKwlyZXR1cm4gMDsNCj4gPiAr
fQ0KPiA+ICsNCj4gPiArc3RhdGljIGludCBtdGtfdmNvZGVjX2luaXRfZGVjX3BhcmFtcyhzdHJ1
Y3QgbXRrX3Zjb2RlY19kZXYgKmRldikNCj4gPiArew0KPiA+ICsJc3RydWN0IHBsYXRmb3JtX2Rl
dmljZSAqcGRldiA9IGRldi0+cGxhdF9kZXY7DQo+ID4gKwlzdHJ1Y3QgcmVzb3VyY2UgKnJlczsN
Cj4gPiArCWludCByZXQ7DQo+ID4gKw0KPiA+ICsJaWYgKCFkZXYtPmlzX3N1cHBvcnRfY29tcCkg
ew0KPiA+ICsJCXJlcyA9IHBsYXRmb3JtX2dldF9yZXNvdXJjZShwZGV2LCBJT1JFU09VUkNFX0lS
USwgMCk7DQo+IA0KPiBpcyB0aGUgY2FsbCB0byBwbGF0Zm9ybV9nZXRfcmVzb3VyY2UgbmVlZGVk
PyByZXMgaXMgbm90IHVzZWQNCj4gDQpObyBuZWVkIHRvIHVzZS4NCj4gPiArCQlpZiAoIXJlcykg
ew0KPiA+ICsJCQlkZXZfZXJyKCZwZGV2LT5kZXYsICJmYWlsZWQgdG8gZ2V0IGlycSByZXNvdXJj
ZSIpOw0KPiA+ICsJCQlyZXR1cm4gLUVOT0VOVDsNCj4gPiArCQl9DQo+ID4gKw0KPiA+ICsJCWRl
di0+ZGVjX2lycSA9IHBsYXRmb3JtX2dldF9pcnEoZGV2LT5wbGF0X2RldiwgMCk7DQo+IA0KPiB5
b3UgY2FuIGNoYW5nZSBkZXYtPnBsYXRfZGV2IHdpdGggcGRldg0KRml4Lg0KPiANCj4gPiArCQlp
ZiAoZGV2LT5kZWNfaXJxIDwgMCkgew0KPiA+ICsJCQlkZXZfZXJyKCZwZGV2LT5kZXYsICJmYWls
ZWQgdG8gZ2V0IGlycSBudW1iZXIiKTsNCj4gPiArCQkJcmV0dXJuIC1FSU5WQUw7DQo+IA0KPiBy
ZXR1cm4gZGV2LT5kZWNfaXJxIGhlcmUgaW5zdGVhZCBvZiAtRUlOVkFMDQo+IA0KRml4Lg0KPiA+
ICsJCX0NCj4gPiArDQo+ID4gKwkJaXJxX3NldF9zdGF0dXNfZmxhZ3MoZGV2LT5kZWNfaXJxLCBJ
UlFfTk9BVVRPRU4pOw0KPiA+ICsJCXJldCA9IGRldm1fcmVxdWVzdF9pcnEoJnBkZXYtPmRldiwg
ZGV2LT5kZWNfaXJxLA0KPiA+ICsJCQkJbXRrX3Zjb2RlY19kZWNfaXJxX2hhbmRsZXIsIDAsIHBk
ZXYtPm5hbWUsIGRldik7DQo+ID4gKwkJaWYgKHJldCkgew0KPiA+ICsJCQlkZXZfZXJyKCZwZGV2
LT5kZXYsICJmYWlsZWQgdG8gaW5zdGFsbCBkZXYtPmRlY19pcnEgJWQgKCVkKSIsDQo+ID4gKwkJ
CQlkZXYtPmRlY19pcnEsIHJldCk7DQo+ID4gKwkJCXJldHVybiByZXQ7DQo+ID4gKwkJfQ0KPiA+
ICsNCj4gPiArCQlyZXQgPSBtdGtfdmNvZGVjX2luaXRfZGVjX3BtKGRldi0+cGxhdF9kZXYsICZk
ZXYtPnBtKTsNCj4gDQo+IHlvdSBjYW4gY2hhbmdlIGRldi0+cGxhdF9kZXYgd2l0aCBwZGV2DQo+
IA0KPiA+ICsJCWlmIChyZXQgPCAwKSB7DQo+ID4gKwkJCWRldl9lcnIoJnBkZXYtPmRldiwgImZh
aWxlZCB0byBnZXQgbXQgdmNvZGVjIGNsb2NrIHNvdXJjZSIpOw0KPiA+ICsJCQlyZXR1cm4gcmV0
Ow0KPiA+ICsJCX0NCj4gPiArCX0NCj4gPiArDQo+ID4gKwlyZXQgPSBtdGtfdmNvZGVjX2dldF9y
ZWdfYmFzZXMoZGV2KTsNCj4gDQo+IHlvdSBjYW4gZG8gdGhpcyBjYWxsIGZpcnN0IGluIHRoZSBi
ZWdpbm5pbmcgb2YgdGhlIGZ1bmN0aW9uLA0KPiB0aGVuIHlvdSBkb24ndCBuZWVkIHRvIHRlc3Qg
IWRldi0+aXNfc3VwcG9ydF9jb21wIGluIG9yZGVyIHRvIHVuZG8gdGhlIHBtIGluaXRpYWxpemF0
aW9uDQo+IA0KWW91IGFyZSByaWdodCwgZml4Lg0KPiA+ICsJaWYgKHJldCAmJiAhZGV2LT5pc19z
dXBwb3J0X2NvbXApDQo+ID4gKwkJbXRrX3Zjb2RlY19yZWxlYXNlX2RlY19wbSgmZGV2LT5wbSk7
DQo+ID4gKw0KPiANCj4gDQo+ID4gKwlyZXR1cm4gcmV0Ow0KPiA+ICt9DQo+ID4gKw0KPiA+ICAg
c3RhdGljIGludCBmb3BzX3Zjb2RlY19vcGVuKHN0cnVjdCBmaWxlICpmaWxlKQ0KPiA+ICAgew0K
PiA+ICAgCXN0cnVjdCBtdGtfdmNvZGVjX2RldiAqZGV2ID0gdmlkZW9fZHJ2ZGF0YShmaWxlKTsN
Cj4gPiBAQCAtMjI4LDkgKzM2Nyw5IEBAIHN0YXRpYyBpbnQgbXRrX3Zjb2RlY19wcm9iZShzdHJ1
Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQ0KPiA+ICAgew0KPiA+ICAgCXN0cnVjdCBtdGtfdmNv
ZGVjX2RldiAqZGV2Ow0KPiA+ICAgCXN0cnVjdCB2aWRlb19kZXZpY2UgKnZmZF9kZWM7DQo+ID4g
LQlzdHJ1Y3QgcmVzb3VyY2UgKnJlczsNCj4gPiAgIAlwaGFuZGxlIHJwcm9jX3BoYW5kbGU7DQo+
ID4gICAJZW51bSBtdGtfdmNvZGVjX2Z3X3R5cGUgZndfdHlwZTsNCj4gPiArCXN0cnVjdCBkZXZp
Y2Vfbm9kZSAqY29tcF9ub2RlOw0KPiA+ICAgCWludCByZXQ7DQo+ID4gICANCj4gPiAgIAlkZXYg
PSBkZXZtX2t6YWxsb2MoJnBkZXYtPmRldiwgc2l6ZW9mKCpkZXYpLCBHRlBfS0VSTkVMKTsNCj4g
PiBAQCAtMjU3LDMxICszOTYsMTcgQEAgc3RhdGljIGludCBtdGtfdmNvZGVjX3Byb2JlKHN0cnVj
dCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpDQo+ID4gICAJaWYgKElTX0VSUihkZXYtPmZ3X2hhbmRs
ZXIpKQ0KPiA+ICAgCQlyZXR1cm4gUFRSX0VSUihkZXYtPmZ3X2hhbmRsZXIpOw0KPiA+ICAgDQo+
ID4gLQlyZXQgPSBtdGtfdmNvZGVjX2luaXRfZGVjX3BtKGRldi0+cGxhdF9kZXYsICZkZXYtPnBt
KTsNCj4gPiAtCWlmIChyZXQgPCAwKSB7DQo+ID4gLQkJZGV2X2VycigmcGRldi0+ZGV2LCAiRmFp
bGVkIHRvIGdldCBtdCB2Y29kZWMgY2xvY2sgc291cmNlIik7DQo+ID4gLQkJZ290byBlcnJfZGVj
X3BtOw0KPiA+IC0JfQ0KPiA+IC0NCj4gPiAtCXJldCA9IG10a192Y29kZWNfZ2V0X3JlZ19iYXNl
cyhkZXYpOw0KPiA+IC0JaWYgKHJldCkNCj4gPiAtCQlnb3RvIGVycl9yZXM7DQo+ID4gKwljb21w
X25vZGUgPQ0KPiA+ICsJCW9mX2ZpbmRfY29tcGF0aWJsZV9ub2RlKE5VTEwsIE5VTEwsICJtZWRp
YXRlayxtdGstdmNvZGVjLWNvcmUiKTsNCj4gPiArCWlmICghY29tcF9ub2RlKQ0KPiA+ICsJCWRl
di0+aXNfc3VwcG9ydF9jb21wID0gZmFsc2U7DQo+ID4gKwllbHNlDQo+ID4gKwkJZGV2LT5pc19z
dXBwb3J0X2NvbXAgPSB0cnVlOw0KPiA+ICsJb2Zfbm9kZV9wdXQoY29tcF9ub2RlKTsNCj4gPiAg
IA0KPiA+IC0JcmVzID0gcGxhdGZvcm1fZ2V0X3Jlc291cmNlKHBkZXYsIElPUkVTT1VSQ0VfSVJR
LCAwKTsNCj4gPiAtCWlmIChyZXMgPT0gTlVMTCkgew0KPiA+IC0JCWRldl9lcnIoJnBkZXYtPmRl
diwgImZhaWxlZCB0byBnZXQgaXJxIHJlc291cmNlIik7DQo+ID4gLQkJcmV0ID0gLUVOT0VOVDsN
Cj4gPiAtCQlnb3RvIGVycl9yZXM7DQo+ID4gLQl9DQo+ID4gLQ0KPiA+IC0JZGV2LT5kZWNfaXJx
ID0gcGxhdGZvcm1fZ2V0X2lycShwZGV2LCAwKTsNCj4gPiAtCWlycV9zZXRfc3RhdHVzX2ZsYWdz
KGRldi0+ZGVjX2lycSwgSVJRX05PQVVUT0VOKTsNCj4gPiAtCXJldCA9IGRldm1fcmVxdWVzdF9p
cnEoJnBkZXYtPmRldiwgZGV2LT5kZWNfaXJxLA0KPiA+IC0JCQltdGtfdmNvZGVjX2RlY19pcnFf
aGFuZGxlciwgMCwgcGRldi0+bmFtZSwgZGV2KTsNCj4gPiAtCWlmIChyZXQpIHsNCj4gPiAtCQlk
ZXZfZXJyKCZwZGV2LT5kZXYsICJGYWlsZWQgdG8gaW5zdGFsbCBkZXYtPmRlY19pcnEgJWQgKCVk
KSIsDQo+ID4gLQkJCWRldi0+ZGVjX2lycSwNCj4gPiAtCQkJcmV0KTsNCj4gPiArCWlmIChtdGtf
dmNvZGVjX2luaXRfZGVjX3BhcmFtcyhkZXYpKSB7DQo+ID4gKwkJZGV2X2VycigmcGRldi0+ZGV2
LCAiRmFpbGVkIHRvIGluaXQgcG0gYW5kIHJlZ2lzdGVycyIpOw0KPiA+ICsJCXJldCA9IC1FSU5W
QUw7DQo+IA0KPiByZXQgc291bGQgYmUgdGhlIHJldHVybiB2YWx1ZSBvZiBtdGtfdmNvZGVjX2lu
aXRfZGVjX3BhcmFtcw0KPiANCj4gPiAgIAkJZ290byBlcnJfcmVzOw0KPiA+ICAgCX0NCj4gPiAg
IA0KPiA+IEBAIC0zMTksNyArNDQ0LDYgQEAgc3RhdGljIGludCBtdGtfdmNvZGVjX3Byb2JlKHN0
cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpDQo+ID4gICAJCU1US19WQ09ERUNfREVDX05BTUUp
Ow0KPiA+ICAgCXZpZGVvX3NldF9kcnZkYXRhKHZmZF9kZWMsIGRldik7DQo+ID4gICAJZGV2LT52
ZmRfZGVjID0gdmZkX2RlYzsNCj4gPiAtCXBsYXRmb3JtX3NldF9kcnZkYXRhKHBkZXYsIGRldik7
PiAgIA0KPiA+ICAgCWRldi0+bTJtX2Rldl9kZWMgPSB2NGwyX20ybV9pbml0KCZtdGtfdmRlY19t
Mm1fb3BzKTsNCj4gPiAgIAlpZiAoSVNfRVJSKChfX2ZvcmNlIHZvaWQgKilkZXYtPm0ybV9kZXZf
ZGVjKSkgew0KPiA+IEBAIC0zNzAsOCArNDk0LDE3IEBAIHN0YXRpYyBpbnQgbXRrX3Zjb2RlY19w
cm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQ0KPiA+ICAgCW10a192NGwyX2RlYnVn
KDAsICJkZWNvZGVyIHJlZ2lzdGVyZWQgYXMgL2Rldi92aWRlbyVkIiwNCj4gPiAgIAkJdmZkX2Rl
Yy0+bnVtKTsNCj4gPiAgIA0KPiA+IC0JcmV0dXJuIDA7DQo+ID4gKwlpZiAoZGV2LT5pc19zdXBw
b3J0X2NvbXApIHsNCj4gPiArCQlyZXQgPSBtdGtfdmNvZGVjX2luaXRfbWFzdGVyKGRldik7DQo+
ID4gKwkJaWYgKHJldCA8IDApDQo+ID4gKwkJCWdvdG8gZXJyX2NvbXBvbmVudF9tYXRjaDsNCj4g
PiArCX0gZWxzZSB7DQo+ID4gKwkJcGxhdGZvcm1fc2V0X2RydmRhdGEocGRldiwgZGV2KTsNCj4g
DQo+IHdoeSBkbyB0aGF0IG9ubHkgaWYgY29tcG9uZW50cyBhcmUgbm90IHN1cHBvcnRlZD8NCj4g
DQpXaWxsIGNhbGwgcGxhdGZvcm1fc2V0X2RydmRhdGEgaW4gbXRrX3Zjb2RlY19pbml0X21hc3Rl
ciBmb3IgY29tcG9uZW50Lg0KY29tcG9uZW50X21hc3Rlcl9hZGRfd2l0aF9tYXRjaCBzaG91bGQg
YmUgYWZ0ZXIgcGxhdGZvcm1fc2V0X2RydmRhdGEgZm9yDQpjb21wb25lbnQgYXJjaC4NCj4gPiAr
CX0NCj4gPiAgIA0KPiA+ICsJcmV0dXJuIDA7DQo+ID4gK2Vycl9jb21wb25lbnRfbWF0Y2g6DQo+
ID4gKwl2aWRlb191bnJlZ2lzdGVyX2RldmljZSh2ZmRfZGVjKTsNCj4gPiAgIGVycl9kZWNfcmVn
Og0KPiA+ICAgCWlmIChkZXYtPnZkZWNfcGRhdGEtPnVzZXNfc3RhdGVsZXNzX2FwaSkNCj4gPiAg
IAkJbWVkaWFfZGV2aWNlX3VucmVnaXN0ZXIoJmRldi0+bWRldl9kZWMpOw0KPiA+IEBAIC0zODcs
OSArNTIwLDggQEAgc3RhdGljIGludCBtdGtfdmNvZGVjX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9k
ZXZpY2UgKnBkZXYpDQo+ID4gICBlcnJfZGVjX2FsbG9jOg0KPiA+ICAgCXY0bDJfZGV2aWNlX3Vu
cmVnaXN0ZXIoJmRldi0+djRsMl9kZXYpOw0KPiA+ICAgZXJyX3JlczoNCj4gPiAtCW10a192Y29k
ZWNfcmVsZWFzZV9kZWNfcG0oJmRldi0+cG0pOw0KPiA+IC1lcnJfZGVjX3BtOg0KPiA+ICAgCW10
a192Y29kZWNfZndfcmVsZWFzZShkZXYtPmZ3X2hhbmRsZXIpOw0KPiA+ICsNCj4gPiAgIAlyZXR1
cm4gcmV0Ow0KPiA+ICAgfQ0KPiA+ICAgDQo+ID4gQEAgLTQ0NCw3ICs1NzYsMjUgQEAgc3RhdGlj
IHN0cnVjdCBwbGF0Zm9ybV9kcml2ZXIgbXRrX3Zjb2RlY19kZWNfZHJpdmVyID0gew0KPiA+ICAg
CX0sDQo+ID4gICB9Ow0KPiA+ICAgDQo+ID4gLW1vZHVsZV9wbGF0Zm9ybV9kcml2ZXIobXRrX3Zj
b2RlY19kZWNfZHJpdmVyKTsNCj4gPiArc3RhdGljIHN0cnVjdCBwbGF0Zm9ybV9kcml2ZXIgKiBj
b25zdCBtdGtfdmRlY19kcml2ZXJzW10gPSB7DQo+ID4gKwkmbXRrX3ZkZWNfY29tcF9kcml2ZXIs
DQo+ID4gKwkmbXRrX3Zjb2RlY19kZWNfZHJpdmVyLA0KPiA+ICt9Ow0KPiA+ICsNCj4gPiArc3Rh
dGljIGludCBfX2luaXQgbXRrX3ZkZWNfaW5pdCh2b2lkKQ0KPiA+ICt7DQo+ID4gKwlyZXR1cm4g
cGxhdGZvcm1fcmVnaXN0ZXJfZHJpdmVycyhtdGtfdmRlY19kcml2ZXJzLA0KPiA+ICsJCQkJCSBB
UlJBWV9TSVpFKG10a192ZGVjX2RyaXZlcnMpKTsNCj4gPiArfQ0KPiA+ICsNCj4gPiArc3RhdGlj
IHZvaWQgX19leGl0IG10a192ZGVjX2V4aXQodm9pZCkNCj4gPiArew0KPiA+ICsJcGxhdGZvcm1f
dW5yZWdpc3Rlcl9kcml2ZXJzKG10a192ZGVjX2RyaXZlcnMsDQo+ID4gKwkJCQkgICAgQVJSQVlf
U0laRShtdGtfdmRlY19kcml2ZXJzKSk7DQo+ID4gK30NCj4gPiArDQo+ID4gK21vZHVsZV9pbml0
KG10a192ZGVjX2luaXQpOw0KPiA+ICttb2R1bGVfZXhpdChtdGtfdmRlY19leGl0KTsNCj4gPiAg
IA0KPiA+ICAgTU9EVUxFX0xJQ0VOU0UoIkdQTCB2MiIpOw0KPiA+ICAgTU9EVUxFX0RFU0NSSVBU
SU9OKCJNZWRpYXRlayB2aWRlbyBjb2RlYyBWNEwyIGRlY29kZXIgZHJpdmVyIik7DQo+ID4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvbWVkaWEvcGxhdGZvcm0vbXRrLXZjb2RlYy9tdGtfdmNvZGVjX2Rl
Y19ody5jIGIvZHJpdmVycy9tZWRpYS9wbGF0Zm9ybS9tdGstdmNvZGVjL210a192Y29kZWNfZGVj
X2h3LmMNCj4gPiBuZXcgZmlsZSBtb2RlIDEwMDY0NA0KPiA+IGluZGV4IDAwMDAwMDAwMDAwMC4u
ZWE2ZDI4OWQ5NzczDQo+ID4gLS0tIC9kZXYvbnVsbA0KPiA+ICsrKyBiL2RyaXZlcnMvbWVkaWEv
cGxhdGZvcm0vbXRrLXZjb2RlYy9tdGtfdmNvZGVjX2RlY19ody5jDQo+ID4gQEAgLTAsMCArMSwx
OTMgQEANCj4gPiArLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjANCj4gPiArLyoN
Cj4gPiArICogQ29weXJpZ2h0IChjKSAyMDIxIE1lZGlhVGVrIEluYy4NCj4gPiArICogQXV0aG9y
OiBZdW5mZWkgRG9uZyA8eXVuZmVpLmRvbmdAbWVkaWF0ZWsuY29tPg0KPiA+ICsgKi8NCj4gPiAr
DQo+ID4gKyNpbmNsdWRlIDxsaW51eC9jb21wb25lbnQuaD4NCj4gPiArI2luY2x1ZGUgPGxpbnV4
L2ludGVycnVwdC5oPg0KPiA+ICsjaW5jbHVkZSA8bGludXgvaXJxLmg+DQo+ID4gKyNpbmNsdWRl
IDxsaW51eC9tb2R1bGUuaD4NCj4gPiArI2luY2x1ZGUgPGxpbnV4L29mLmg+DQo+ID4gKyNpbmNs
dWRlIDxsaW51eC9vZl9kZXZpY2UuaD4NCj4gPiArI2luY2x1ZGUgPGxpbnV4L3NsYWIuaD4NCj4g
PiArDQo+ID4gKyNpbmNsdWRlICJtdGtfdmNvZGVjX2Rydi5oIg0KPiA+ICsjaW5jbHVkZSAibXRr
X3Zjb2RlY19kZWMuaCINCj4gPiArI2luY2x1ZGUgIm10a192Y29kZWNfZGVjX2h3LmgiDQo+ID4g
KyNpbmNsdWRlICJtdGtfdmNvZGVjX2RlY19wbS5oIg0KPiA+ICsjaW5jbHVkZSAibXRrX3Zjb2Rl
Y19pbnRyLmgiDQo+ID4gKyNpbmNsdWRlICJtdGtfdmNvZGVjX3V0aWwuaCINCj4gPiArDQo+ID4g
K3N0YXRpYyBpbnQgbXRrX3ZkZWNfY29tcF9iaW5kKHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0
IGRldmljZSAqbWFzdGVyLA0KPiA+ICsJdm9pZCAqZGF0YSkNCj4gPiArew0KPiA+ICsJc3RydWN0
IG10a192ZGVjX2NvbXBfZGV2ICpjb21wX2RldiA9IGRldl9nZXRfZHJ2ZGF0YShkZXYpOw0KPiA+
ICsJc3RydWN0IG10a192Y29kZWNfZGV2ICptYXN0ZXJfZGV2ID0gZGF0YTsNCj4gPiArCWludCBp
Ow0KPiA+ICsNCj4gPiArCWZvciAoaSA9IDA7IGkgPCBNVEtfVkRFQ19IV19NQVg7IGkrKykgew0K
PiA+ICsJCWlmIChkZXYtPm9mX25vZGUgIT0gbWFzdGVyX2Rldi0+Y29tcG9uZW50X25vZGVbaV0p
DQo+ID4gKwkJCWNvbnRpbnVlOw0KPiA+ICsNCj4gPiArCQltYXN0ZXJfZGV2LT5jb21wX2Rldltp
XSA9IGNvbXBfZGV2Ow0KPiA+ICsJCWNvbXBfZGV2LT5jb21wX2lkeCA9IGk7DQo+ID4gKwkJY29t
cF9kZXYtPm1hc3Rlcl9kZXYgPSBtYXN0ZXJfZGV2Ow0KPiA+ICsJCWJyZWFrOw0KPiA+ICsJfQ0K
PiA+ICsNCj4gPiArCWlmIChpID09IE1US19WREVDX0hXX01BWCkgew0KPiA+ICsJCWRldl9lcnIo
ZGV2LCAiRmFpbGVkIHRvIGdldCBjb21wb25lbnQgbm9kZVxuIik7DQo+ID4gKwkJcmV0dXJuIC1F
SU5WQUw7DQo+ID4gKwl9DQo+ID4gKw0KPiA+ICsJY29tcF9kZXYtPnJlZ19iYXNlW1ZERUNfQ09N
UF9TWVNdID0NCj4gPiArCQltYXN0ZXJfZGV2LT5yZWdfYmFzZVtWREVDX0NPTVBfU1lTXTsNCj4g
PiArCXJldHVybiAwOw0KPiA+ICt9DQo+ID4gKw0KPiA+ICtzdGF0aWMgdm9pZCBtdGtfdmRlY19j
b21wX3VuYmluZChzdHJ1Y3QgZGV2aWNlICpkZXYsIHN0cnVjdCBkZXZpY2UgKm1hc3RlciwNCj4g
PiArCXZvaWQgKmRhdGEpDQo+ID4gK3sNCj4gPiArCXN0cnVjdCBtdGtfdmRlY19jb21wX2RldiAq
Y29tcF9kZXYgPSBkZXZfZ2V0X2RydmRhdGEoZGV2KTsNCj4gPiArDQo+ID4gKwljb21wX2Rldi0+
cmVnX2Jhc2VbVkRFQ19DT01QX1NZU10gPSBOVUxMOw0KPiA+ICt9DQo+ID4gKw0KPiA+ICtzdGF0
aWMgY29uc3Qgc3RydWN0IGNvbXBvbmVudF9vcHMgbXRrX3ZkZWNfaHdfY29tcG9uZW50X29wcyA9
IHsNCj4gPiArCS5iaW5kID0gbXRrX3ZkZWNfY29tcF9iaW5kLA0KPiA+ICsJLnVuYmluZCA9IG10
a192ZGVjX2NvbXBfdW5iaW5kLA0KPiA+ICt9Ow0KPiA+ICsNCj4gPiArLyogV2FrZSB1cCBjb250
ZXh0IHdhaXRfcXVldWUgKi8NCj4gPiArc3RhdGljIHZvaWQgbXRrX3ZkZWNfY29tcF93YWtlX3Vw
X2N0eChzdHJ1Y3QgbXRrX3Zjb2RlY19jdHggKmN0eCkNCj4gPiArew0KPiA+ICsJY3R4LT5pbnRf
Y29uZCA9IDE7DQo+ID4gKwl3YWtlX3VwX2ludGVycnVwdGlibGUoJmN0eC0+cXVldWUpOw0KPiA+
ICt9DQo+IA0KPiBUaGlzIGZ1bmN0aW9uIGlzIGlkZW50aWNhbCB0byB0aGUgZnVuY3Rpb24gJ3dh
a2VfdXBfY3R4JyBzbyB5b3Ugc2hvdWxkDQo+IHByb2FibHkgbm90IGR1cGxpY2F0ZSBpdC4NCj4g
DQpBbGlnbiB2ZGVjIGFuZCB2ZW5jIHdha2UgdXAgY3R4IGludGVyZmFjZS4NCj4gPiArDQo+ID4g
K3N0YXRpYyBpcnFyZXR1cm5fdCBtdGtfdmRlY19jb21wX2lycV9oYW5kbGVyKGludCBpcnEsIHZv
aWQgKnByaXYpDQo+ID4gK3sNCj4gPiArCXN0cnVjdCBtdGtfdmRlY19jb21wX2RldiAqZGV2ID0g
cHJpdjsNCj4gPiArCXN0cnVjdCBtdGtfdmNvZGVjX2N0eCAqY3R4Ow0KPiA+ICsJdTMyIGNnX3N0
YXR1czsNCj4gPiArCXVuc2lnbmVkIGludCBkZWNfZG9uZV9zdGF0dXM7DQo+ID4gKwl2b2lkIF9f
aW9tZW0gKnZkZWNfbWlzY19hZGRyID0gZGV2LT5yZWdfYmFzZVtWREVDX0NPTVBfTUlTQ10gKw0K
PiA+ICsJCQkJCVZERUNfSVJRX0NGR19SRUc7DQo+ID4gKw0KPiA+ICsJY3R4ID0gbXRrX3Zjb2Rl
Y19nZXRfY3Vycl9jdHgoZGV2LT5tYXN0ZXJfZGV2KTsNCj4gPiArDQo+ID4gKwkvKiBjaGVjayBp
ZiBIVyBhY3RpdmUgb3Igbm90ICovDQo+ID4gKwljZ19zdGF0dXMgPSByZWFkbChkZXYtPnJlZ19i
YXNlW1ZERUNfQ09NUF9TWVNdKTsNCj4gPiArCWlmICgoY2dfc3RhdHVzICYgVkRFQ19IV19BQ1RJ
VkUpICE9IDApIHsNCj4gPiArCQltdGtfdjRsMl9lcnIoInZkZWMgYWN0aXZlIGlzIG5vdCAweDAg
KDB4JTA4eCkiLA0KPiA+ICsJCQljZ19zdGF0dXMpOw0KPiA+ICsJCXJldHVybiBJUlFfSEFORExF
RDsNCj4gPiArCX0NCj4gPiArDQo+ID4gKwlkZWNfZG9uZV9zdGF0dXMgPSByZWFkbCh2ZGVjX21p
c2NfYWRkcik7DQo+ID4gKwlpZiAoKGRlY19kb25lX3N0YXR1cyAmIE1US19WREVDX0lSUV9TVEFU
VVNfREVDX1NVQ0NFU1MpICE9DQo+ID4gKwkJTVRLX1ZERUNfSVJRX1NUQVRVU19ERUNfU1VDQ0VT
UykNCj4gPiArCQlyZXR1cm4gSVJRX0hBTkRMRUQ7DQo+ID4gKw0KPiA+ICsJLyogY2xlYXIgaW50
ZXJydXB0ICovDQo+ID4gKwl3cml0ZWwocmVhZGwodmRlY19taXNjX2FkZHIpIHwgVkRFQ19JUlFf
Q0ZHLCB2ZGVjX21pc2NfYWRkcik7DQo+ID4gKwl3cml0ZWwocmVhZGwodmRlY19taXNjX2FkZHIp
ICYgflZERUNfSVJRX0NMUiwgdmRlY19taXNjX2FkZHIpOw0KPiANCj4gY291bGQgdGhlc2UgdHdv
IHdyaXRlbCBiZSBjb21iaW5lZCBpbnRvIG9uZSB3cml0ZWw/DQo+IGFuZCBjb3VsZCB0aGUgY2Fs
bHMgJ3JlYWRsKHZkZWNfbWlzY19hZGRyKScgYmUgcmVwbGFjZWQgd2l0aCAnZGVjX2RvbmVfc3Rh
dHVzJz8NCj4gDQpGaXguDQo+ID4gKw0KPiA+ICsJbXRrX3ZkZWNfY29tcF93YWtlX3VwX2N0eChj
dHgpOw0KPiA+ICsNCj4gPiArCW10a192NGwyX2RlYnVnKDMsICJ3YWtlIHVwIGN0eCAlZCwgZGVj
X2RvbmVfc3RhdHVzPSV4IiwNCj4gPiArCQljdHgtPmlkLCBkZWNfZG9uZV9zdGF0dXMpOw0KPiA+
ICsNCj4gPiArCXJldHVybiBJUlFfSEFORExFRDsNCj4gPiArfQ0KPiA+ICsNCj4gPiArc3RhdGlj
IGludCBtdGtfdmRlY19jb21wX2luaXRfaXJxKHN0cnVjdCBtdGtfdmRlY19jb21wX2RldiAqZGV2
KQ0KPiA+ICt7DQo+ID4gKwlzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2ID0gZGV2LT5wbGF0
X2RldjsNCj4gPiArCWludCByZXQ7DQo+ID4gKw0KPiA+ICsJZGV2LT5kZWNfaXJxID0gcGxhdGZv
cm1fZ2V0X2lycShwZGV2LCAwKTsNCj4gPiArCWlmIChkZXYtPmRlY19pcnEgPCAwKSB7DQo+ID4g
KwkJZGV2X2VycigmcGRldi0+ZGV2LCAiRmFpbGVkIHRvIGdldCBpcnEgcmVzb3VyY2UiKTsNCj4g
PiArCQlyZXR1cm4gZGV2LT5kZWNfaXJxOw0KPiA+ICsJfQ0KPiA+ICsNCj4gPiArCXJldCA9IGRl
dm1fcmVxdWVzdF9pcnEoJnBkZXYtPmRldiwgZGV2LT5kZWNfaXJxLA0KPiA+ICsJCQkJbXRrX3Zk
ZWNfY29tcF9pcnFfaGFuZGxlciwgMCwgcGRldi0+bmFtZSwgZGV2KTsNCj4gPiArCWlmIChyZXQp
IHsNCj4gPiArCQlkZXZfZXJyKCZwZGV2LT5kZXYsICJGYWlsZWQgdG8gaW5zdGFsbCBkZXYtPmRl
Y19pcnEgJWQgKCVkKSIsDQo+ID4gKwkJCWRldi0+ZGVjX2lycSwgcmV0KTsNCj4gPiArCQlyZXR1
cm4gLUVOT0VOVDsNCj4gDQo+IHNob3VsZCByZXR1cm4gJ3JldCcgaGVyZQ0KPiANCj4gPiArCX0N
Cj4gPiArDQo+ID4gKwlkaXNhYmxlX2lycShkZXYtPmRlY19pcnEpOw0KPiANCj4gc2hvdWxkIHRo
aXMgYmUgcmVwbGFjZWQgd2l0aDoNCj4gDQo+IGlycV9zZXRfc3RhdHVzX2ZsYWdzKGRldi0+ZGVj
X2lycSwgSVJRX05PQVVUT0VOKTsNCj4gDQo+ID8NCj4gDQpTaG91bGQgY2FsbCB0aGlzIGludGVy
ZmFjZSwgZml4IGl0Lg0KPiA+ICsJcmV0dXJuIDA7DQo+ID4gK30NCj4gPiArDQo+ID4gK3N0YXRp
YyBpbnQgbXRrX3ZkZWNfY29tcF9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQ0K
PiA+ICt7DQo+ID4gKwlzdHJ1Y3QgbXRrX3ZkZWNfY29tcF9kZXYgKmRldjsNCj4gPiArCWludCBy
ZXQ7DQo+ID4gKw0KPiA+ICsJZGV2ID0gZGV2bV9remFsbG9jKCZwZGV2LT5kZXYsIHNpemVvZigq
ZGV2KSwgR0ZQX0tFUk5FTCk7DQo+ID4gKwlpZiAoIWRldikNCj4gPiArCQlyZXR1cm4gLUVOT01F
TTsNCj4gPiArDQo+ID4gKwlkZXYtPnBsYXRfZGV2ID0gcGRldjsNCj4gPiArCXNwaW5fbG9ja19p
bml0KCZkZXYtPmlycWxvY2spOw0KPiANCj4gSSBkb24ndCBzZWUgd2hlcmUgdGhpcyBsb2NrIGlz
IHVzZWQNCj4gDQo+ID4gKw0KPiA+ICsJcmV0ID0gbXRrX3Zjb2RlY19pbml0X2RlY19wbShwZGV2
LCAmZGV2LT5wbSk7DQo+ID4gKwlpZiAocmV0KSB7DQo+ID4gKwkJZGV2X2VycigmcGRldi0+ZGV2
LCAiRmFpbGVkIHRvIGdldCBtdCB2Y29kZWMgY2xvY2sgc291cmNlIik7DQo+ID4gKwkJcmV0dXJu
IHJldDsNCj4gPiArCX0NCj4gPiArDQo+ID4gKwlkZXYtPnJlZ19iYXNlW1ZERUNfQ09NUF9NSVND
XSA9DQo+ID4gKwkJZGV2bV9wbGF0Zm9ybV9pb3JlbWFwX3Jlc291cmNlKHBkZXYsIDApOw0KPiA+
ICsJaWYgKElTX0VSUigoX19mb3JjZSB2b2lkICopZGV2LT5yZWdfYmFzZVtWREVDX0NPTVBfTUlT
Q10pKSB7DQo+ID4gKwkJcmV0ID0gUFRSX0VSUigoX19mb3JjZSB2b2lkICopZGV2LT5yZWdfYmFz
ZVtWREVDX0NPTVBfTUlTQ10pOw0KPiA+ICsJCWdvdG8gZXJyOw0KPiA+ICsJfQ0KPiA+ICsNCj4g
PiArCWlmIChvZl9nZXRfcHJvcGVydHkocGRldi0+ZGV2Lm9mX25vZGUsICJkbWEtcmFuZ2VzIiwg
TlVMTCkpDQo+ID4gKwkJZG1hX3NldF9tYXNrX2FuZF9jb2hlcmVudCgmcGRldi0+ZGV2LCBETUFf
QklUX01BU0soMzQpKTsNCj4gPiArDQo+ID4gKwlyZXQgPSBtdGtfdmRlY19jb21wX2luaXRfaXJx
KGRldik7DQo+ID4gKwlpZiAocmV0KSB7DQo+ID4gKwkJZGV2X2VycigmcGRldi0+ZGV2LCAiRmFp
bGVkIHRvIHJlZ2lzdGVyIGlycSBoYW5kbGVyLlxuIik7DQo+ID4gKwkJZ290byBlcnI7DQo+ID4g
Kwl9DQo+ID4gKw0KPiA+ICsJcGxhdGZvcm1fc2V0X2RydmRhdGEocGRldiwgZGV2KTsNCj4gPiAr
DQo+ID4gKwlyZXQgPSBjb21wb25lbnRfYWRkKCZwZGV2LT5kZXYsICZtdGtfdmRlY19od19jb21w
b25lbnRfb3BzKTsNCj4gPiArCWlmIChyZXQpIHsNCj4gPiArCQlkZXZfZXJyKCZwZGV2LT5kZXYs
ICJGYWlsZWQgdG8gYWRkIGNvbXBvbmVudDogJWRcbiIsIHJldCk7DQo+ID4gKwkJZ290byBlcnI7
DQo+ID4gKwl9DQo+ID4gKw0KPiA+ICsJcmV0dXJuIDA7DQo+ID4gK2VycjoNCj4gPiArCW10a192
Y29kZWNfcmVsZWFzZV9kZWNfcG0oJmRldi0+cG0pOw0KPiA+ICsJcmV0dXJuIHJldDsNCj4gPiAr
fQ0KPiA+ICsNCj4gPiArc3RhdGljIGNvbnN0IHN0cnVjdCBvZl9kZXZpY2VfaWQgbXRrX3ZkZWNf
Y29tcF9pZHNbXSA9IHsNCj4gPiArCXsNCj4gPiArCQkuY29tcGF0aWJsZSA9ICJtZWRpYXRlayxt
dGstdmNvZGVjLWxhdCIsDQo+ID4gKwl9LA0KPiA+ICsJew0KPiA+ICsJCS5jb21wYXRpYmxlID0g
Im1lZGlhdGVrLG10ay12Y29kZWMtY29yZSIsDQo+ID4gKwl9LA0KPiA+ICsJe30sDQo+ID4gK307
DQo+ID4gK01PRFVMRV9ERVZJQ0VfVEFCTEUob2YsIG10a192ZGVjX2NvbXBfaWRzKTsNCj4gPiAr
DQo+ID4gK3N0cnVjdCBwbGF0Zm9ybV9kcml2ZXIgbXRrX3ZkZWNfY29tcF9kcml2ZXIgPSB7DQo+
ID4gKwkucHJvYmUJPSBtdGtfdmRlY19jb21wX3Byb2JlLA0KPiA+ICsJLmRyaXZlcgk9IHsNCj4g
PiArCQkubmFtZQk9ICJtdGstdmRlYy1jb21wIiwNCj4gPiArCQkub2ZfbWF0Y2hfdGFibGUgPSBt
dGtfdmRlY19jb21wX2lkcywNCj4gPiArCX0sDQo+ID4gK307DQo+ID4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvbWVkaWEvcGxhdGZvcm0vbXRrLXZjb2RlYy9tdGtfdmNvZGVjX2RlY19ody5oIGIvZHJp
dmVycy9tZWRpYS9wbGF0Zm9ybS9tdGstdmNvZGVjL210a192Y29kZWNfZGVjX2h3LmgNCj4gPiBu
ZXcgZmlsZSBtb2RlIDEwMDY0NA0KPiA+IGluZGV4IDAwMDAwMDAwMDAwMC4uNTE0ZTNmZDE5MGQx
DQo+ID4gLS0tIC9kZXYvbnVsbA0KPiA+ICsrKyBiL2RyaXZlcnMvbWVkaWEvcGxhdGZvcm0vbXRr
LXZjb2RlYy9tdGtfdmNvZGVjX2RlY19ody5oDQo+ID4gQEAgLTAsMCArMSw0NiBAQA0KPiA+ICsv
LyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMA0KPiA+ICsvKg0KPiA+ICsgKiBDb3B5
cmlnaHQgKGMpIDIwMjEgTWVkaWFUZWsgSW5jLg0KPiA+ICsgKiBBdXRob3I6IFl1bmZlaSBEb25n
IDx5dW5mZWkuZG9uZ0BtZWRpYXRlay5jb20+DQo+ID4gKyAqLw0KPiA+ICsNCj4gPiArI2lmbmRl
ZiBfTVRLX1ZDT0RFQ19ERUNfSFdfSF8NCj4gPiArI2RlZmluZSBfTVRLX1ZDT0RFQ19ERUNfSFdf
SF8NCj4gPiArDQo+ID4gKyNpbmNsdWRlIDxsaW51eC9pby5oPg0KPiA+ICsjaW5jbHVkZSA8bGlu
dXgvcGxhdGZvcm1fZGV2aWNlLmg+DQo+ID4gKw0KPiA+ICsjaW5jbHVkZSAibXRrX3Zjb2RlY19k
cnYuaCINCj4gPiArDQo+ID4gKy8qKg0KPiA+ICsgKiBlbnVtIG10a19jb21wX2h3X3JlZ19pZHgg
LSBjb21wb25lbnQgcmVnaXN0ZXIgYmFzZSBpbmRleA0KPiA+ICsgKi8NCj4gPiArZW51bSBtdGtf
Y29tcF9od19yZWdfaWR4IHsNCj4gPiArCVZERUNfQ09NUF9TWVMsDQo+ID4gKwlWREVDX0NPTVBf
TUlTQywNCj4gPiArCVZERUNfQ09NUF9NQVgNCj4gPiArfTsNCj4gPiArDQo+ID4gKy8qKg0KPiA+
ICsgKiBzdHJ1Y3QgbXRrX3ZkZWNfY29tcF9kZXYgLSBjb21wb25lbnQgZnJhbXdvcmsgZHJpdmVy
IGRhdGENCj4gPiArICogQHBsYXRfZGV2OiBwbGF0Zm9ybSBkZXZpY2UNCj4gPiArICogQG1hc3Rl
cl9kZXY6IG1hc3RlciBkZXZpY2UNCj4gPiArICogQGlycWxvY2s6IHByb3RlY3QgZGF0YSBhY2Nl
c3MgYnkgaXJxIGhhbmRsZXIgYW5kIHdvcmsgdGhyZWFkDQo+ID4gKyAqIEByZWdfYmFzZTogTWFw
cGVkIGFkZHJlc3Mgb2YgTVRLIFZjb2RlYyByZWdpc3RlcnMuDQo+ID4gKyAqDQo+ID4gKyAqIEBk
ZWNfaXJxOiBkZWNvZGVyIGlycSByZXNvdXJjZQ0KPiA+ICsgKiBAcG06IHBvd2VyIG1hbmFnZW1l
bnQgY29udHJvbA0KPiA+ICsgKiBAY29tcF9pZHg6IGNvbXBvbmVudCBpbmRleA0KPiA+ICsgKi8N
Cj4gPiArc3RydWN0IG10a192ZGVjX2NvbXBfZGV2IHsNCj4gPiArCXN0cnVjdCBwbGF0Zm9ybV9k
ZXZpY2UgKnBsYXRfZGV2Ow0KPiA+ICsJc3RydWN0IG10a192Y29kZWNfZGV2ICptYXN0ZXJfZGV2
Ow0KPiA+ICsJc3BpbmxvY2tfdCBpcnFsb2NrOw0KPiA+ICsJdm9pZCBfX2lvbWVtICpyZWdfYmFz
ZVtWREVDX0NPTVBfTUFYXTsNCj4gPiArDQo+ID4gKwlpbnQgZGVjX2lycTsNCj4gPiArCXN0cnVj
dCBtdGtfdmNvZGVjX3BtIHBtOw0KPiA+ICsJaW50IGNvbXBfaWR4Ow0KPiA+ICt9Ow0KPiA+ICsN
Cj4gPiArI2VuZGlmIC8qIF9NVEtfVkNPREVDX0RFQ19IV19IXyAqLw0KPiA+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL21lZGlhL3BsYXRmb3JtL210ay12Y29kZWMvbXRrX3Zjb2RlY19kcnYuaCBiL2Ry
aXZlcnMvbWVkaWEvcGxhdGZvcm0vbXRrLXZjb2RlYy9tdGtfdmNvZGVjX2Rydi5oDQo+ID4gaW5k
ZXggMTkyOTZmZDQxYzMxLi40MDAyZjc4NmI2ZTMgMTAwNjQ0DQo+ID4gLS0tIGEvZHJpdmVycy9t
ZWRpYS9wbGF0Zm9ybS9tdGstdmNvZGVjL210a192Y29kZWNfZHJ2LmgNCj4gPiArKysgYi9kcml2
ZXJzL21lZGlhL3BsYXRmb3JtL210ay12Y29kZWMvbXRrX3Zjb2RlY19kcnYuaA0KPiA+IEBAIC0x
Nyw2ICsxNywxMSBAQA0KPiA+ICAgI2luY2x1ZGUgPG1lZGlhL3ZpZGVvYnVmMi1jb3JlLmg+DQo+
ID4gICAjaW5jbHVkZSAibXRrX3Zjb2RlY191dGlsLmgiDQo+ID4gICANCj4gPiArI2RlZmluZSBW
REVDX0hXX0FDVElWRQkweDEwDQo+ID4gKyNkZWZpbmUgVkRFQ19JUlFfQ0ZHCTB4MTENCj4gPiAr
I2RlZmluZSBWREVDX0lSUV9DTFIJMHgxMA0KPiA+ICsjZGVmaW5lIFZERUNfSVJRX0NGR19SRUcJ
MHhhNA0KPiA+ICsNCj4gPiAgICNkZWZpbmUgTVRLX1ZDT0RFQ19EUlZfTkFNRQkibXRrX3Zjb2Rl
Y19kcnYiDQo+ID4gICAjZGVmaW5lIE1US19WQ09ERUNfREVDX05BTUUJIm10ay12Y29kZWMtZGVj
Ig0KPiA+ICAgI2RlZmluZSBNVEtfVkNPREVDX0VOQ19OQU1FCSJtdGstdmNvZGVjLWVuYyINCj4g
PiBAQCAtOTMsNiArOTgsMTcgQEAgZW51bSBtdGtfZm10X3R5cGUgew0KPiA+ICAgCU1US19GTVRf
RlJBTUUgPSAyLA0KPiA+ICAgfTsNCj4gPiAgIA0KPiA+ICsvKioNCj4gPiArICogc3RydWN0IG10
a192ZGVjX2h3X2lkIC0gSGFyZHdhcmUgaW5kZXggdXNlZCB0byBzZXBhcmF0ZQ0KPiA+ICsgKiAg
ICAgICAgICAgICAgICAgICAgICAgICBkaWZmZXJlbnQgaGFyZHdhcmUNCj4gPiArICovDQo+ID4g
K2VudW0gbXRrX3ZkZWNfaHdfaWQgew0KPiA+ICsJTVRLX1ZERUNfQ09SRSwNCj4gPiArCU1US19W
REVDX0xBVDAsDQo+ID4gKwlNVEtfVkRFQ19MQVQxLA0KPiA+ICsJTVRLX1ZERUNfSFdfTUFYLA0K
PiA+ICsgfTsNCj4gPiArDQo+ID4gICAvKg0KPiA+ICAgICogc3RydWN0IG10a192aWRlb19mbXQg
LSBTdHJ1Y3R1cmUgdXNlZCB0byBzdG9yZSBpbmZvcm1hdGlvbiBhYm91dCBwaXhlbGZvcm1hdHMN
Cj4gPiAgICAqLw0KPiA+IEBAIC00MDQsNiArNDIwLDcgQEAgc3RydWN0IG10a192Y29kZWNfZW5j
X3BkYXRhIHsNCj4gPiAgICAqDQo+ID4gICAgKiBAZndfaGFuZGxlcjogdXNlZCB0byBjb21tdW5p
Y2F0ZSB3aXRoIHRoZSBmaXJtd2FyZS4NCj4gPiAgICAqIEBpZF9jb3VudGVyOiB1c2VkIHRvIGlk
ZW50aWZ5IGN1cnJlbnQgb3BlbmVkIGluc3RhbmNlDQo+ID4gKyAqIEBpc19zdXBwb3J0X2NvbXA6
IHRydWU6IHVzaW5nIGNvbXBvZW50IGZyYW1ld29yaywgZmFsc2U6IG5vdCBzdXBwb3J0DQo+IA0K
PiBJIHdvdWxkIHJlbmFtZSB0byAnaXNfY29tcF9zdXBwb3J0ZWQnDQo+IA0KQ2FuIGNoYW5nZSB0
aGUgbmFtZS4NCj4gPiAgICAqDQo+ID4gICAgKiBAZGVjb2RlX3dvcmtxdWV1ZTogZGVjb2RlIHdv
cmsgcXVldWUNCj4gPiAgICAqIEBlbmNvZGVfd29ya3F1ZXVlOiBlbmNvZGUgd29yayBxdWV1ZQ0K
PiA+IEBAIC00MjIsNiArNDM5LDEwIEBAIHN0cnVjdCBtdGtfdmNvZGVjX2VuY19wZGF0YSB7DQo+
ID4gICAgKiBAcG06IHBvd2VyIG1hbmFnZW1lbnQgY29udHJvbA0KPiA+ICAgICogQGRlY19jYXBh
YmlsaXR5OiB1c2VkIHRvIGlkZW50aWZ5IGRlY29kZSBjYXBhYmlsaXR5LCBleDogNGsNCj4gPiAg
ICAqIEBlbmNfY2FwYWJpbGl0eTogdXNlZCB0byBpZGVudGlmeSBlbmNvZGUgY2FwYWJpbGl0eQ0K
PiA+ICsgKg0KPiA+ICsgKiBAY29tcF9kZXY6IGNvbXBvbmVudCBoYXJkd2FyZSBkZXZpY2UNCj4g
DQo+IFRoaXMgZmllbGQgaXMgbm90IG5lZWRlZCwgaXQgaXMgb25seSBzZXQgd2l0aG91dCBiZWVp
bmcgdXNlZA0KPiANCmNvbXBfZGV2IGlzIHVzZWQgaW4gbXRrX3Zjb2RlY19kZWNfaHcuYw0KDQo+
ID4gKyAqIEBjb21wb25lbnRfbm9kZTogY29tcG9uZW50IG5vZGUNCj4gPiArICogQGNvbXBfaWR4
OiBjb21wb25lbnQgaW5kZXgNCj4gDQo+IFRoaXMgZmllbGQgaXMgbm90IHVzZWQNCj4gDQpjb21w
X2lkeCB3aWxsIGJlIHVzZWQgaW4gdGhlIGZ1dHVyZSwgY2FuIHJlbW92ZSBpdCBhbmQgYWRkIGl0
IHdoZW4gbmVlZA0KdG8gdXNlLg0KPiBUaGFua3MsDQo+IERhZm5hDQo+IA0KPiA+ICAgICovDQo+
ID4gICBzdHJ1Y3QgbXRrX3Zjb2RlY19kZXYgew0KPiA+ICAgCXN0cnVjdCB2NGwyX2RldmljZSB2
NGwyX2RldjsNCj4gPiBAQCAtNDQyLDYgKzQ2Myw3IEBAIHN0cnVjdCBtdGtfdmNvZGVjX2RldiB7
DQo+ID4gICAJc3RydWN0IG10a192Y29kZWNfZncgKmZ3X2hhbmRsZXI7DQo+ID4gICANCj4gPiAg
IAl1bnNpZ25lZCBsb25nIGlkX2NvdW50ZXI7DQo+ID4gKwlib29sIGlzX3N1cHBvcnRfY29tcDsN
Cj4gPiAgIA0KPiA+ICAgCXN0cnVjdCB3b3JrcXVldWVfc3RydWN0ICpkZWNvZGVfd29ya3F1ZXVl
Ow0KPiA+ICAgCXN0cnVjdCB3b3JrcXVldWVfc3RydWN0ICplbmNvZGVfd29ya3F1ZXVlOw0KPiA+
IEBAIC00NTksNiArNDgxLDEwIEBAIHN0cnVjdCBtdGtfdmNvZGVjX2RldiB7DQo+ID4gICAJc3Ry
dWN0IG10a192Y29kZWNfcG0gcG07DQo+ID4gICAJdW5zaWduZWQgaW50IGRlY19jYXBhYmlsaXR5
Ow0KPiA+ICAgCXVuc2lnbmVkIGludCBlbmNfY2FwYWJpbGl0eTsNCj4gPiArDQo+ID4gKwl2b2lk
ICpjb21wX2RldltNVEtfVkRFQ19IV19NQVhdOw0KPiA+ICsJc3RydWN0IGRldmljZV9ub2RlICpj
b21wb25lbnRfbm9kZVtNVEtfVkRFQ19IV19NQVhdOw0KPiA+ICsJaW50IGNvbXBfaWR4Ow0KPiA+
ICAgfTsNCj4gPiAgIA0KPiA+ICAgc3RhdGljIGlubGluZSBzdHJ1Y3QgbXRrX3Zjb2RlY19jdHgg
KmZoX3RvX2N0eChzdHJ1Y3QgdjRsMl9maCAqZmgpDQo+ID4gDQoNCg==

