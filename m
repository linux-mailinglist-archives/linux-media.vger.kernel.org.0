Return-Path: <linux-media-owner@vger.kernel.org>
X-Original-To: lists+linux-media@lfdr.de
Delivered-To: lists+linux-media@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id 5F5ED23B37D
	for <lists+linux-media@lfdr.de>; Tue,  4 Aug 2020 05:43:03 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1730565AbgHDDmq (ORCPT <rfc822;lists+linux-media@lfdr.de>);
        Mon, 3 Aug 2020 23:42:46 -0400
Received: from mailgw01.mediatek.com ([210.61.82.183]:46105 "EHLO
        mailgw01.mediatek.com" rhost-flags-OK-FAIL-OK-FAIL) by vger.kernel.org
        with ESMTP id S1729757AbgHDDmQ (ORCPT
        <rfc822;linux-media@vger.kernel.org>); Mon, 3 Aug 2020 23:42:16 -0400
X-UUID: 7284ddee648c4fb0a4fd4208d6611bee-20200804
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=mediatek.com; s=dk;
        h=Content-Transfer-Encoding:Content-Type:MIME-Version:References:In-Reply-To:Message-ID:Date:Subject:CC:To:From; bh=/GuxYq6j4LMI0C3oIC5wBdIcBp2xB3j+Ehv2Je4DsIQ=;
        b=ducPnFU44WD6L2dbvR3O27nUtfhIb+tBoOORWz8Sam/RgqHpvJwntZpcsAMmK+1mYnDEp/g0Mlj5M4vP9bza5vhN3FP0S/XBq+XMx49kUTk23iDTMrmVN+GXJ01H/pJRNFsTg76TezPC83ucaEIy/Hop8TojCOkGQ5+B06KZuik=;
X-UUID: 7284ddee648c4fb0a4fd4208d6611bee-20200804
Received: from mtkcas06.mediatek.inc [(172.21.101.30)] by mailgw01.mediatek.com
        (envelope-from <xia.jiang@mediatek.com>)
        (Cellopoint E-mail Firewall v4.1.10 Build 0809 with TLS)
        with ESMTP id 905076668; Tue, 04 Aug 2020 11:42:06 +0800
Received: from mtkcas08.mediatek.inc (172.21.101.126) by
 mtkmbs07n1.mediatek.inc (172.21.101.16) with Microsoft SMTP Server (TLS) id
 15.0.1497.2; Tue, 4 Aug 2020 11:42:04 +0800
Received: from localhost.localdomain (10.17.3.153) by mtkcas08.mediatek.inc
 (172.21.101.73) with Microsoft SMTP Server id 15.0.1497.2 via Frontend
 Transport; Tue, 4 Aug 2020 11:42:03 +0800
From:   Xia Jiang <xia.jiang@mediatek.com>
To:     Hans Verkuil <hverkuil-cisco@xs4all.nl>,
        Mauro Carvalho Chehab <mchehab+samsung@kernel.org>,
        Rob Herring <robh+dt@kernel.org>,
        Matthias Brugger <matthias.bgg@gmail.com>,
        Rick Chang <rick.chang@mediatek.com>
CC:     <linux-media@vger.kernel.org>, <devicetree@vger.kernel.org>,
        <linux-kernel@vger.kernel.org>,
        <linux-arm-kernel@lists.infradead.org>,
        <linux-mediatek@lists.infradead.org>,
        Marek Szyprowski <m.szyprowski@samsung.com>,
        Tomasz Figa <tfiga@chromium.org>,
        <srv_heupstream@mediatek.com>, <senozhatsky@chromium.org>,
        <mojahsu@chromium.org>, <drinkcat@chromium.org>,
        <maoguang.meng@mediatek.com>, Xia Jiang <xia.jiang@mediatek.com>
Subject: [PATCH v11 19/28] media: platform: Redefinition of mtk_jpeg_q_data structure
Date:   Tue, 4 Aug 2020 11:40:53 +0800
Message-ID: <20200804034102.22983-20-xia.jiang@mediatek.com>
X-Mailer: git-send-email 2.18.0
In-Reply-To: <20200804034102.22983-1-xia.jiang@mediatek.com>
References: <20200804034102.22983-1-xia.jiang@mediatek.com>
MIME-Version: 1.0
Content-Type: text/plain
X-MTK:  N
Content-Transfer-Encoding: base64
Sender: linux-media-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-media.vger.kernel.org>
X-Mailing-List: linux-media@vger.kernel.org

VGhlIHN0YW5kYXJkIHY0bDJfcGl4X2Zvcm1hdF9tcGxhbmUgc3RydWN0dXJlIGNvbnRhaW5zIHdp
ZHRoL2hlaWdodC8NCnNpemVpbWFnZS9ieXRlc3BlcmxpbmUsIHNvIHVzZSB2NGwyX3BpeF9mb3Jt
YXRfbXBsYW5lIHRvIHJlcGxhY2UgdGhlbS4NCg0KUmV2aWV3ZWQtYnk6IFRvbWFzeiBGaWdhIDx0
ZmlnYUBjaHJvbWl1bS5vcmc+DQpTaWduZWQtb2ZmLWJ5OiBYaWEgSmlhbmcgPHhpYS5qaWFuZ0Bt
ZWRpYXRlay5jb20+DQotLS0NCnYxMTogbm8gY2hhbmdlcw0KLS0tDQogLi4uL21lZGlhL3BsYXRm
b3JtL210ay1qcGVnL210a19qcGVnX2NvcmUuYyAgIHwgMTAxICsrKysrKysrKystLS0tLS0tLQ0K
IC4uLi9tZWRpYS9wbGF0Zm9ybS9tdGstanBlZy9tdGtfanBlZ19jb3JlLmggICB8ICAyMCArLS0t
DQogMiBmaWxlcyBjaGFuZ2VkLCA1NyBpbnNlcnRpb25zKCspLCA2NCBkZWxldGlvbnMoLSkNCg0K
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvbWVkaWEvcGxhdGZvcm0vbXRrLWpwZWcvbXRrX2pwZWdfY29y
ZS5jIGIvZHJpdmVycy9tZWRpYS9wbGF0Zm9ybS9tdGstanBlZy9tdGtfanBlZ19jb3JlLmMNCmlu
ZGV4IGIzZTM4ZmZkNGU4MS4uMDFmNDY1NmZlMmIzIDEwMDY0NA0KLS0tIGEvZHJpdmVycy9tZWRp
YS9wbGF0Zm9ybS9tdGstanBlZy9tdGtfanBlZ19jb3JlLmMNCisrKyBiL2RyaXZlcnMvbWVkaWEv
cGxhdGZvcm0vbXRrLWpwZWcvbXRrX2pwZWdfY29yZS5jDQpAQCAtMjA3LDE1ICsyMDcsMTUgQEAg
c3RhdGljIGludCBtdGtfanBlZ19nX2ZtdF92aWRfbXBsYW5lKHN0cnVjdCBmaWxlICpmaWxlLCB2
b2lkICpwcml2LA0KIA0KIAlxX2RhdGEgPSBtdGtfanBlZ19nZXRfcV9kYXRhKGN0eCwgZi0+dHlw
ZSk7DQogDQotCXBpeF9tcC0+d2lkdGggPSBxX2RhdGEtPnc7DQotCXBpeF9tcC0+aGVpZ2h0ID0g
cV9kYXRhLT5oOw0KKwlwaXhfbXAtPndpZHRoID0gcV9kYXRhLT5waXhfbXAud2lkdGg7DQorCXBp
eF9tcC0+aGVpZ2h0ID0gcV9kYXRhLT5waXhfbXAuaGVpZ2h0Ow0KIAlwaXhfbXAtPmZpZWxkID0g
VjRMMl9GSUVMRF9OT05FOw0KIAlwaXhfbXAtPnBpeGVsZm9ybWF0ID0gcV9kYXRhLT5mbXQtPmZv
dXJjYzsNCiAJcGl4X21wLT5udW1fcGxhbmVzID0gcV9kYXRhLT5mbXQtPmNvbHBsYW5lczsNCi0J
cGl4X21wLT5jb2xvcnNwYWNlID0gY3R4LT5jb2xvcnNwYWNlOw0KLQlwaXhfbXAtPnljYmNyX2Vu
YyA9IGN0eC0+eWNiY3JfZW5jOw0KLQlwaXhfbXAtPnhmZXJfZnVuYyA9IGN0eC0+eGZlcl9mdW5j
Ow0KLQlwaXhfbXAtPnF1YW50aXphdGlvbiA9IGN0eC0+cXVhbnRpemF0aW9uOw0KKwlwaXhfbXAt
PmNvbG9yc3BhY2UgPSBxX2RhdGEtPnBpeF9tcC5jb2xvcnNwYWNlOw0KKwlwaXhfbXAtPnljYmNy
X2VuYyA9IHFfZGF0YS0+cGl4X21wLnljYmNyX2VuYzsNCisJcGl4X21wLT54ZmVyX2Z1bmMgPSBx
X2RhdGEtPnBpeF9tcC54ZmVyX2Z1bmM7DQorCXBpeF9tcC0+cXVhbnRpemF0aW9uID0gcV9kYXRh
LT5waXhfbXAucXVhbnRpemF0aW9uOw0KIA0KIAl2NGwyX2RiZygxLCBkZWJ1ZywgJmpwZWctPnY0
bDJfZGV2LCAiKCVkKSBnX2ZtdDolYyVjJWMlYyB3eGg6JXV4JXVcbiIsDQogCQkgZi0+dHlwZSwN
CkBAIC0yMjgsOCArMjI4LDggQEAgc3RhdGljIGludCBtdGtfanBlZ19nX2ZtdF92aWRfbXBsYW5l
KHN0cnVjdCBmaWxlICpmaWxlLCB2b2lkICpwcml2LA0KIAlmb3IgKGkgPSAwOyBpIDwgcGl4X21w
LT5udW1fcGxhbmVzOyBpKyspIHsNCiAJCXN0cnVjdCB2NGwyX3BsYW5lX3BpeF9mb3JtYXQgKnBm
bXQgPSAmcGl4X21wLT5wbGFuZV9mbXRbaV07DQogDQotCQlwZm10LT5ieXRlc3BlcmxpbmUgPSBx
X2RhdGEtPmJ5dGVzcGVybGluZVtpXTsNCi0JCXBmbXQtPnNpemVpbWFnZSA9IHFfZGF0YS0+c2l6
ZWltYWdlW2ldOw0KKwkJcGZtdC0+Ynl0ZXNwZXJsaW5lID0gcV9kYXRhLT5waXhfbXAucGxhbmVf
Zm10W2ldLmJ5dGVzcGVybGluZTsNCisJCXBmbXQtPnNpemVpbWFnZSA9IHFfZGF0YS0+cGl4X21w
LnBsYW5lX2ZtdFtpXS5zaXplaW1hZ2U7DQogDQogCQl2NGwyX2RiZygxLCBkZWJ1ZywgJmpwZWct
PnY0bDJfZGV2LA0KIAkJCSAicGxhbmVbJWRdIGJwbD0ldSwgc2l6ZT0ldVxuIiwNCkBAIC0zMTgs
MTIgKzMxOCwxMiBAQCBzdGF0aWMgaW50IG10a19qcGVnX3NfZm10X21wbGFuZShzdHJ1Y3QgbXRr
X2pwZWdfY3R4ICpjdHgsDQogCXFfZGF0YS0+Zm10ID0gbXRrX2pwZWdfZmluZF9mb3JtYXQobXRr
X2pwZWdfZm9ybWF0cywNCiAJCQkJCSAgIE1US19KUEVHX05VTV9GT1JNQVRTLA0KIAkJCQkJICAg
cGl4X21wLT5waXhlbGZvcm1hdCwgZm10X3R5cGUpOw0KLQlxX2RhdGEtPncgPSBwaXhfbXAtPndp
ZHRoOw0KLQlxX2RhdGEtPmggPSBwaXhfbXAtPmhlaWdodDsNCi0JY3R4LT5jb2xvcnNwYWNlID0g
cGl4X21wLT5jb2xvcnNwYWNlOw0KLQljdHgtPnljYmNyX2VuYyA9IHBpeF9tcC0+eWNiY3JfZW5j
Ow0KLQljdHgtPnhmZXJfZnVuYyA9IHBpeF9tcC0+eGZlcl9mdW5jOw0KLQljdHgtPnF1YW50aXph
dGlvbiA9IHBpeF9tcC0+cXVhbnRpemF0aW9uOw0KKwlxX2RhdGEtPnBpeF9tcC53aWR0aCA9IHBp
eF9tcC0+d2lkdGg7DQorCXFfZGF0YS0+cGl4X21wLmhlaWdodCA9IHBpeF9tcC0+aGVpZ2h0Ow0K
KwlxX2RhdGEtPnBpeF9tcC5jb2xvcnNwYWNlID0gcGl4X21wLT5jb2xvcnNwYWNlOw0KKwlxX2Rh
dGEtPnBpeF9tcC55Y2Jjcl9lbmMgPSBwaXhfbXAtPnljYmNyX2VuYzsNCisJcV9kYXRhLT5waXhf
bXAueGZlcl9mdW5jID0gcGl4X21wLT54ZmVyX2Z1bmM7DQorCXFfZGF0YS0+cGl4X21wLnF1YW50
aXphdGlvbiA9IHBpeF9tcC0+cXVhbnRpemF0aW9uOw0KIA0KIAl2NGwyX2RiZygxLCBkZWJ1Zywg
JmpwZWctPnY0bDJfZGV2LCAiKCVkKSBzX2ZtdDolYyVjJWMlYyB3eGg6JXV4JXVcbiIsDQogCQkg
Zi0+dHlwZSwNCkBAIC0zMzEsMTUgKzMzMSwxOCBAQCBzdGF0aWMgaW50IG10a19qcGVnX3NfZm10
X21wbGFuZShzdHJ1Y3QgbXRrX2pwZWdfY3R4ICpjdHgsDQogCQkgKHFfZGF0YS0+Zm10LT5mb3Vy
Y2MgPj4gIDggJiAweGZmKSwNCiAJCSAocV9kYXRhLT5mbXQtPmZvdXJjYyA+PiAxNiAmIDB4ZmYp
LA0KIAkJIChxX2RhdGEtPmZtdC0+Zm91cmNjID4+IDI0ICYgMHhmZiksDQotCQkgcV9kYXRhLT53
LCBxX2RhdGEtPmgpOw0KKwkJIHFfZGF0YS0+cGl4X21wLndpZHRoLCBxX2RhdGEtPnBpeF9tcC5o
ZWlnaHQpOw0KIA0KIAlmb3IgKGkgPSAwOyBpIDwgcV9kYXRhLT5mbXQtPmNvbHBsYW5lczsgaSsr
KSB7DQotCQlxX2RhdGEtPmJ5dGVzcGVybGluZVtpXSA9IHBpeF9tcC0+cGxhbmVfZm10W2ldLmJ5
dGVzcGVybGluZTsNCi0JCXFfZGF0YS0+c2l6ZWltYWdlW2ldID0gcGl4X21wLT5wbGFuZV9mbXRb
aV0uc2l6ZWltYWdlOw0KKwkJcV9kYXRhLT5waXhfbXAucGxhbmVfZm10W2ldLmJ5dGVzcGVybGlu
ZSA9DQorCQkJCQlwaXhfbXAtPnBsYW5lX2ZtdFtpXS5ieXRlc3BlcmxpbmU7DQorCQlxX2RhdGEt
PnBpeF9tcC5wbGFuZV9mbXRbaV0uc2l6ZWltYWdlID0NCisJCQkJCXBpeF9tcC0+cGxhbmVfZm10
W2ldLnNpemVpbWFnZTsNCiANCiAJCXY0bDJfZGJnKDEsIGRlYnVnLCAmanBlZy0+djRsMl9kZXYs
DQogCQkJICJwbGFuZVslZF0gYnBsPSV1LCBzaXplPSV1XG4iLA0KLQkJCSBpLCBxX2RhdGEtPmJ5
dGVzcGVybGluZVtpXSwgcV9kYXRhLT5zaXplaW1hZ2VbaV0pOw0KKwkJCSBpLCBxX2RhdGEtPnBp
eF9tcC5wbGFuZV9mbXRbaV0uYnl0ZXNwZXJsaW5lLA0KKwkJCSBxX2RhdGEtPnBpeF9tcC5wbGFu
ZV9mbXRbaV0uc2l6ZWltYWdlKTsNCiAJfQ0KIA0KIAlyZXR1cm4gMDsNCkBAIC00MDQsMTUgKzQw
NywxNSBAQCBzdGF0aWMgaW50IG10a19qcGVnX2dfc2VsZWN0aW9uKHN0cnVjdCBmaWxlICpmaWxl
LCB2b2lkICpwcml2LA0KIAlzd2l0Y2ggKHMtPnRhcmdldCkgew0KIAljYXNlIFY0TDJfU0VMX1RH
VF9DT01QT1NFOg0KIAljYXNlIFY0TDJfU0VMX1RHVF9DT01QT1NFX0RFRkFVTFQ6DQotCQlzLT5y
LndpZHRoID0gY3R4LT5vdXRfcS53Ow0KLQkJcy0+ci5oZWlnaHQgPSBjdHgtPm91dF9xLmg7DQor
CQlzLT5yLndpZHRoID0gY3R4LT5vdXRfcS5waXhfbXAud2lkdGg7DQorCQlzLT5yLmhlaWdodCA9
IGN0eC0+b3V0X3EucGl4X21wLmhlaWdodDsNCiAJCXMtPnIubGVmdCA9IDA7DQogCQlzLT5yLnRv
cCA9IDA7DQogCQlicmVhazsNCiAJY2FzZSBWNEwyX1NFTF9UR1RfQ09NUE9TRV9CT1VORFM6DQog
CWNhc2UgVjRMMl9TRUxfVEdUX0NPTVBPU0VfUEFEREVEOg0KLQkJcy0+ci53aWR0aCA9IGN0eC0+
Y2FwX3EudzsNCi0JCXMtPnIuaGVpZ2h0ID0gY3R4LT5jYXBfcS5oOw0KKwkJcy0+ci53aWR0aCA9
IGN0eC0+Y2FwX3EucGl4X21wLndpZHRoOw0KKwkJcy0+ci5oZWlnaHQgPSBjdHgtPmNhcF9xLnBp
eF9tcC5oZWlnaHQ7DQogCQlzLT5yLmxlZnQgPSAwOw0KIAkJcy0+ci50b3AgPSAwOw0KIAkJYnJl
YWs7DQpAQCAtNDY4LDE0ICs0NzEsMTQgQEAgc3RhdGljIGludCBtdGtfanBlZ19xdWV1ZV9zZXR1
cChzdHJ1Y3QgdmIyX3F1ZXVlICpxLA0KIA0KIAlpZiAoKm51bV9wbGFuZXMpIHsNCiAJCWZvciAo
aSA9IDA7IGkgPCAqbnVtX3BsYW5lczsgaSsrKQ0KLQkJCWlmIChzaXplc1tpXSA8IHFfZGF0YS0+
c2l6ZWltYWdlW2ldKQ0KKwkJCWlmIChzaXplc1tpXSA8IHFfZGF0YS0+cGl4X21wLnBsYW5lX2Zt
dFtpXS5zaXplaW1hZ2UpDQogCQkJCXJldHVybiAtRUlOVkFMOw0KIAkJcmV0dXJuIDA7DQogCX0N
CiANCiAJKm51bV9wbGFuZXMgPSBxX2RhdGEtPmZtdC0+Y29scGxhbmVzOw0KIAlmb3IgKGkgPSAw
OyBpIDwgcV9kYXRhLT5mbXQtPmNvbHBsYW5lczsgaSsrKSB7DQotCQlzaXplc1tpXSA9IHFfZGF0
YS0+c2l6ZWltYWdlW2ldOw0KKwkJc2l6ZXNbaV0gPSAgcV9kYXRhLT5waXhfbXAucGxhbmVfZm10
W2ldLnNpemVpbWFnZTsNCiAJCXY0bDJfZGJnKDEsIGRlYnVnLCAmanBlZy0+djRsMl9kZXYsICJz
aXplaW1hZ2VbJWRdPSV1XG4iLA0KIAkJCSBpLCBzaXplc1tpXSk7DQogCX0NCkBAIC00OTQsNyAr
NDk3LDggQEAgc3RhdGljIGludCBtdGtfanBlZ19idWZfcHJlcGFyZShzdHJ1Y3QgdmIyX2J1ZmZl
ciAqdmIpDQogCQlyZXR1cm4gLUVJTlZBTDsNCiANCiAJZm9yIChpID0gMDsgaSA8IHFfZGF0YS0+
Zm10LT5jb2xwbGFuZXM7IGkrKykNCi0JCXZiMl9zZXRfcGxhbmVfcGF5bG9hZCh2YiwgaSwgcV9k
YXRhLT5zaXplaW1hZ2VbaV0pOw0KKwkJdmIyX3NldF9wbGFuZV9wYXlsb2FkKHZiLCBpLA0KKwkJ
CQkgICAgICBxX2RhdGEtPnBpeF9tcC5wbGFuZV9mbXRbaV0uc2l6ZWltYWdlKTsNCiANCiAJcmV0
dXJuIDA7DQogfQ0KQEAgLTUwNiw3ICs1MTAsOCBAQCBzdGF0aWMgYm9vbCBtdGtfanBlZ19jaGVj
a19yZXNvbHV0aW9uX2NoYW5nZShzdHJ1Y3QgbXRrX2pwZWdfY3R4ICpjdHgsDQogCXN0cnVjdCBt
dGtfanBlZ19xX2RhdGEgKnFfZGF0YTsNCiANCiAJcV9kYXRhID0gJmN0eC0+b3V0X3E7DQotCWlm
IChxX2RhdGEtPncgIT0gcGFyYW0tPnBpY193IHx8IHFfZGF0YS0+aCAhPSBwYXJhbS0+cGljX2gp
IHsNCisJaWYgKHFfZGF0YS0+cGl4X21wLndpZHRoICE9IHBhcmFtLT5waWNfdyB8fA0KKwkgICAg
cV9kYXRhLT5waXhfbXAuaGVpZ2h0ICE9IHBhcmFtLT5waWNfaCkgew0KIAkJdjRsMl9kYmcoMSwg
ZGVidWcsICZqcGVnLT52NGwyX2RldiwgIlBpY3R1cmUgc2l6ZSBjaGFuZ2VcbiIpOw0KIAkJcmV0
dXJuIHRydWU7DQogCX0NCkBAIC01MjksMjAgKzUzNCwyMCBAQCBzdGF0aWMgdm9pZCBtdGtfanBl
Z19zZXRfcXVldWVfZGF0YShzdHJ1Y3QgbXRrX2pwZWdfY3R4ICpjdHgsDQogCWludCBpOw0KIA0K
IAlxX2RhdGEgPSAmY3R4LT5vdXRfcTsNCi0JcV9kYXRhLT53ID0gcGFyYW0tPnBpY193Ow0KLQlx
X2RhdGEtPmggPSBwYXJhbS0+cGljX2g7DQorCXFfZGF0YS0+cGl4X21wLndpZHRoID0gcGFyYW0t
PnBpY193Ow0KKwlxX2RhdGEtPnBpeF9tcC5oZWlnaHQgPSBwYXJhbS0+cGljX2g7DQogDQogCXFf
ZGF0YSA9ICZjdHgtPmNhcF9xOw0KLQlxX2RhdGEtPncgPSBwYXJhbS0+ZGVjX3c7DQotCXFfZGF0
YS0+aCA9IHBhcmFtLT5kZWNfaDsNCisJcV9kYXRhLT5waXhfbXAud2lkdGggPSBwYXJhbS0+ZGVj
X3c7DQorCXFfZGF0YS0+cGl4X21wLmhlaWdodCA9IHBhcmFtLT5kZWNfaDsNCiAJcV9kYXRhLT5m
bXQgPSBtdGtfanBlZ19maW5kX2Zvcm1hdChtdGtfanBlZ19mb3JtYXRzLA0KIAkJCQkJICAgTVRL
X0pQRUdfTlVNX0ZPUk1BVFMsDQogCQkJCQkgICBwYXJhbS0+ZHN0X2ZvdXJjYywNCiAJCQkJCSAg
IE1US19KUEVHX0ZNVF9GTEFHX0RFQ19DQVBUVVJFKTsNCiANCiAJZm9yIChpID0gMDsgaSA8IHFf
ZGF0YS0+Zm10LT5jb2xwbGFuZXM7IGkrKykgew0KLQkJcV9kYXRhLT5ieXRlc3BlcmxpbmVbaV0g
PSBwYXJhbS0+bWVtX3N0cmlkZVtpXTsNCi0JCXFfZGF0YS0+c2l6ZWltYWdlW2ldID0gcGFyYW0t
PmNvbXBfc2l6ZVtpXTsNCisJCXFfZGF0YS0+cGl4X21wLnBsYW5lX2ZtdFtpXS5ieXRlc3Blcmxp
bmUgPSBwYXJhbS0+bWVtX3N0cmlkZVtpXTsNCisJCXFfZGF0YS0+cGl4X21wLnBsYW5lX2ZtdFtp
XS5zaXplaW1hZ2UgPSBwYXJhbS0+Y29tcF9zaXplW2ldOw0KIAl9DQogDQogCXY0bDJfZGJnKDEs
IGRlYnVnLCAmanBlZy0+djRsMl9kZXYsDQpAQCAtODQxLDMyICs4NDYsMzYgQEAgc3RhdGljIHZv
aWQgbXRrX2pwZWdfc2V0X2RlZmF1bHRfcGFyYW1zKHN0cnVjdCBtdGtfanBlZ19jdHggKmN0eCkN
CiAJc3RydWN0IG10a19qcGVnX3FfZGF0YSAqcSA9ICZjdHgtPm91dF9xOw0KIAlpbnQgaTsNCiAN
Ci0JY3R4LT5jb2xvcnNwYWNlID0gVjRMMl9DT0xPUlNQQUNFX0pQRUcsDQotCWN0eC0+eWNiY3Jf
ZW5jID0gVjRMMl9ZQ0JDUl9FTkNfREVGQVVMVDsNCi0JY3R4LT5xdWFudGl6YXRpb24gPSBWNEwy
X1FVQU5USVpBVElPTl9ERUZBVUxUOw0KLQljdHgtPnhmZXJfZnVuYyA9IFY0TDJfWEZFUl9GVU5D
X0RFRkFVTFQ7DQorCXEtPnBpeF9tcC5jb2xvcnNwYWNlID0gVjRMMl9DT0xPUlNQQUNFX0pQRUcs
DQorCXEtPnBpeF9tcC55Y2Jjcl9lbmMgPSBWNEwyX1lDQkNSX0VOQ19ERUZBVUxUOw0KKwlxLT5w
aXhfbXAucXVhbnRpemF0aW9uID0gVjRMMl9RVUFOVElaQVRJT05fREVGQVVMVDsNCisJcS0+cGl4
X21wLnhmZXJfZnVuYyA9IFY0TDJfWEZFUl9GVU5DX0RFRkFVTFQ7DQogDQogCXEtPmZtdCA9IG10
a19qcGVnX2ZpbmRfZm9ybWF0KG10a19qcGVnX2Zvcm1hdHMsIE1US19KUEVHX05VTV9GT1JNQVRT
LA0KIAkJCQkgICAgICBWNEwyX1BJWF9GTVRfSlBFRywNCiAJCQkJICAgICAgTVRLX0pQRUdfRk1U
X0ZMQUdfREVDX09VVFBVVCk7DQotCXEtPncgPSBNVEtfSlBFR19NSU5fV0lEVEg7DQotCXEtPmgg
PSBNVEtfSlBFR19NSU5fSEVJR0hUOw0KLQlxLT5ieXRlc3BlcmxpbmVbMF0gPSAwOw0KLQlxLT5z
aXplaW1hZ2VbMF0gPSBNVEtfSlBFR19ERUZBVUxUX1NJWkVJTUFHRTsNCisJcS0+cGl4X21wLndp
ZHRoID0gTVRLX0pQRUdfTUlOX1dJRFRIOw0KKwlxLT5waXhfbXAuaGVpZ2h0ID0gTVRLX0pQRUdf
TUlOX0hFSUdIVDsNCisJcS0+cGl4X21wLnBsYW5lX2ZtdFswXS5ieXRlc3BlcmxpbmUgPSAwOw0K
KwlxLT5waXhfbXAucGxhbmVfZm10WzBdLnNpemVpbWFnZSA9IE1US19KUEVHX0RFRkFVTFRfU0la
RUlNQUdFOw0KIA0KIAlxID0gJmN0eC0+Y2FwX3E7DQogCXEtPmZtdCA9IG10a19qcGVnX2ZpbmRf
Zm9ybWF0KG10a19qcGVnX2Zvcm1hdHMsIE1US19KUEVHX05VTV9GT1JNQVRTLA0KIAkJCQkgICAg
ICBWNEwyX1BJWF9GTVRfWVVWNDIwTSwNCiAJCQkJICAgICAgTVRLX0pQRUdfRk1UX0ZMQUdfREVD
X0NBUFRVUkUpOw0KLQlxLT53ID0gTVRLX0pQRUdfTUlOX1dJRFRIOw0KLQlxLT5oID0gTVRLX0pQ
RUdfTUlOX0hFSUdIVDsNCisJcS0+cGl4X21wLmNvbG9yc3BhY2UgPSBWNEwyX0NPTE9SU1BBQ0Vf
SlBFRywNCisJcS0+cGl4X21wLnljYmNyX2VuYyA9IFY0TDJfWUNCQ1JfRU5DX0RFRkFVTFQ7DQor
CXEtPnBpeF9tcC5xdWFudGl6YXRpb24gPSBWNEwyX1FVQU5USVpBVElPTl9ERUZBVUxUOw0KKwlx
LT5waXhfbXAueGZlcl9mdW5jID0gVjRMMl9YRkVSX0ZVTkNfREVGQVVMVDsNCisJcS0+cGl4X21w
LndpZHRoID0gTVRLX0pQRUdfTUlOX1dJRFRIOw0KKwlxLT5waXhfbXAuaGVpZ2h0ID0gTVRLX0pQ
RUdfTUlOX0hFSUdIVDsNCiANCiAJZm9yIChpID0gMDsgaSA8IHEtPmZtdC0+Y29scGxhbmVzOyBp
KyspIHsNCi0JCXUzMiBzdHJpZGUgPSBxLT53ICogcS0+Zm10LT5oX3NhbXBsZVtpXSAvIDQ7DQot
CQl1MzIgaCA9IHEtPmggKiBxLT5mbXQtPnZfc2FtcGxlW2ldIC8gNDsNCisJCXUzMiBzdHJpZGUg
PSBxLT5waXhfbXAud2lkdGggKiBxLT5mbXQtPmhfc2FtcGxlW2ldIC8gNDsNCisJCXUzMiBoID0g
cS0+cGl4X21wLmhlaWdodCAqIHEtPmZtdC0+dl9zYW1wbGVbaV0gLyA0Ow0KIA0KLQkJcS0+Ynl0
ZXNwZXJsaW5lW2ldID0gc3RyaWRlOw0KLQkJcS0+c2l6ZWltYWdlW2ldID0gc3RyaWRlICogaDsN
CisJCXEtPnBpeF9tcC5wbGFuZV9mbXRbaV0uYnl0ZXNwZXJsaW5lID0gc3RyaWRlOw0KKwkJcS0+
cGl4X21wLnBsYW5lX2ZtdFtpXS5zaXplaW1hZ2UgPSBzdHJpZGUgKiBoOw0KIAl9DQogfQ0KIA0K
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvbWVkaWEvcGxhdGZvcm0vbXRrLWpwZWcvbXRrX2pwZWdfY29y
ZS5oIGIvZHJpdmVycy9tZWRpYS9wbGF0Zm9ybS9tdGstanBlZy9tdGtfanBlZ19jb3JlLmgNCmlu
ZGV4IDE5MmVlNDg4YTUwYS4uNGM3NmE5ZGNjNGI3IDEwMDY0NA0KLS0tIGEvZHJpdmVycy9tZWRp
YS9wbGF0Zm9ybS9tdGstanBlZy9tdGtfanBlZ19jb3JlLmgNCisrKyBiL2RyaXZlcnMvbWVkaWEv
cGxhdGZvcm0vbXRrLWpwZWcvbXRrX2pwZWdfY29yZS5oDQpAQCAtOTYsMTggKzk2LDExIEBAIHN0
cnVjdCBtdGtfanBlZ19mbXQgew0KIC8qKg0KICAqIG10a19qcGVnX3FfZGF0YSAtIHBhcmFtZXRl
cnMgb2Ygb25lIHF1ZXVlDQogICogQGZtdDoJICBkcml2ZXItc3BlY2lmaWMgZm9ybWF0IG9mIHRo
aXMgcXVldWUNCi0gKiBAdzoJCSAgaW1hZ2Ugd2lkdGgNCi0gKiBAaDoJCSAgaW1hZ2UgaGVpZ2h0
DQotICogQGJ5dGVzcGVybGluZTogZGlzdGFuY2UgaW4gYnl0ZXMgYmV0d2VlbiB0aGUgbGVmdG1v
c3QgcGl4ZWxzIGluIHR3byBhZGphY2VudA0KLSAqICAgICAgICAgICAgICAgIGxpbmVzDQotICog
QHNpemVpbWFnZToJICBpbWFnZSBidWZmZXIgc2l6ZSBpbiBieXRlcw0KKyAqIEBwaXhfbXA6CSAg
bXVsdGlwbGFuYXIgZm9ybWF0DQogICovDQogc3RydWN0IG10a19qcGVnX3FfZGF0YSB7DQogCXN0
cnVjdCBtdGtfanBlZ19mbXQJKmZtdDsNCi0JdTMyCQkJdzsNCi0JdTMyCQkJaDsNCi0JdTMyCQkJ
Ynl0ZXNwZXJsaW5lW1ZJREVPX01BWF9QTEFORVNdOw0KLQl1MzIJCQlzaXplaW1hZ2VbVklERU9f
TUFYX1BMQU5FU107DQorCXN0cnVjdCB2NGwyX3BpeF9mb3JtYXRfbXBsYW5lIHBpeF9tcDsNCiB9
Ow0KIA0KIC8qKg0KQEAgLTExNywxMCArMTEwLDYgQEAgc3RydWN0IG10a19qcGVnX3FfZGF0YSB7
DQogICogQGNhcF9xOgkJZGVzdGluYXRpb24gKGNhcHR1cmUpIHF1ZXVlIHF1ZXVlIGluZm9ybWF0
aW9uDQogICogQGZoOgkJCVY0TDIgZmlsZSBoYW5kbGUNCiAgKiBAc3RhdGU6CQlzdGF0ZSBvZiB0
aGUgY29udGV4dA0KLSAqIEBjb2xvcnNwYWNlOiBlbnVtIHY0bDJfY29sb3JzcGFjZTsgc3VwcGxl
bWVudGFsIHRvIHBpeGVsZm9ybWF0DQotICogQHljYmNyX2VuYzogZW51bSB2NGwyX3ljYmNyX2Vu
Y29kaW5nLCBZJ0NiQ3IgZW5jb2RpbmcNCi0gKiBAcXVhbnRpemF0aW9uOiBlbnVtIHY0bDJfcXVh
bnRpemF0aW9uLCBjb2xvcnNwYWNlIHF1YW50aXphdGlvbg0KLSAqIEB4ZmVyX2Z1bmM6IGVudW0g
djRsMl94ZmVyX2Z1bmMsIGNvbG9yc3BhY2UgdHJhbnNmZXIgZnVuY3Rpb24NCiAgKi8NCiBzdHJ1
Y3QgbXRrX2pwZWdfY3R4IHsNCiAJc3RydWN0IG10a19qcGVnX2RldgkJKmpwZWc7DQpAQCAtMTI4
LDExICsxMTcsNiBAQCBzdHJ1Y3QgbXRrX2pwZWdfY3R4IHsNCiAJc3RydWN0IG10a19qcGVnX3Ff
ZGF0YQkJY2FwX3E7DQogCXN0cnVjdCB2NGwyX2ZoCQkJZmg7DQogCWVudW0gbXRrX2pwZWdfY3R4
X3N0YXRlCQlzdGF0ZTsNCi0NCi0JZW51bSB2NGwyX2NvbG9yc3BhY2UgY29sb3JzcGFjZTsNCi0J
ZW51bSB2NGwyX3ljYmNyX2VuY29kaW5nIHljYmNyX2VuYzsNCi0JZW51bSB2NGwyX3F1YW50aXph
dGlvbiBxdWFudGl6YXRpb247DQotCWVudW0gdjRsMl94ZmVyX2Z1bmMgeGZlcl9mdW5jOw0KIH07
DQogDQogI2VuZGlmIC8qIF9NVEtfSlBFR19DT1JFX0ggKi8NCi0tIA0KMi4xOC4wDQo=

