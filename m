Return-Path: <linux-media-owner@vger.kernel.org>
X-Original-To: lists+linux-media@lfdr.de
Delivered-To: lists+linux-media@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id 238E422A5B5
	for <lists+linux-media@lfdr.de>; Thu, 23 Jul 2020 05:09:18 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S2387879AbgGWDGy (ORCPT <rfc822;lists+linux-media@lfdr.de>);
        Wed, 22 Jul 2020 23:06:54 -0400
Received: from mailgw02.mediatek.com ([210.61.82.184]:9350 "EHLO
        mailgw02.mediatek.com" rhost-flags-OK-FAIL-OK-FAIL) by vger.kernel.org
        with ESMTP id S2387849AbgGWDGx (ORCPT
        <rfc822;linux-media@vger.kernel.org>);
        Wed, 22 Jul 2020 23:06:53 -0400
X-UUID: 4175c4f30584499196c750eb241843b7-20200723
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=mediatek.com; s=dk;
        h=Content-Transfer-Encoding:Content-Type:MIME-Version:References:In-Reply-To:Message-ID:Date:Subject:CC:To:From; bh=cV1vq3C91IMxiWh7exWTHJ7xydzt468VT1d3ClQ3oE4=;
        b=u8fpksHxk7AJasX2+09XBz80Q80geQJygdPYVktNJsvda8TjSHYA0HFz/cA2QPb78e2jfyXVyL4dtPr1cMFQcchF/9RD+pks4cr5kdhOSu76hwL7DIx4h6AZY3zvKuWATQaFOlL7D2ZP/K7I8cqm8nqtsMI5IdYZnhIwCI3maH4=;
X-UUID: 4175c4f30584499196c750eb241843b7-20200723
Received: from mtkcas06.mediatek.inc [(172.21.101.30)] by mailgw02.mediatek.com
        (envelope-from <xia.jiang@mediatek.com>)
        (Cellopoint E-mail Firewall v4.1.10 Build 0809 with TLS)
        with ESMTP id 1556802084; Thu, 23 Jul 2020 11:06:43 +0800
Received: from MTKCAS06.mediatek.inc (172.21.101.30) by
 mtkmbs07n2.mediatek.inc (172.21.101.141) with Microsoft SMTP Server (TLS) id
 15.0.1497.2; Thu, 23 Jul 2020 11:06:41 +0800
Received: from localhost.localdomain (10.17.3.153) by MTKCAS06.mediatek.inc
 (172.21.101.73) with Microsoft SMTP Server id 15.0.1497.2 via Frontend
 Transport; Thu, 23 Jul 2020 11:06:38 +0800
From:   Xia Jiang <xia.jiang@mediatek.com>
To:     Hans Verkuil <hverkuil-cisco@xs4all.nl>,
        Mauro Carvalho Chehab <mchehab+samsung@kernel.org>,
        Rob Herring <robh+dt@kernel.org>,
        Matthias Brugger <matthias.bgg@gmail.com>,
        Rick Chang <rick.chang@mediatek.com>
CC:     <linux-media@vger.kernel.org>, <devicetree@vger.kernel.org>,
        <linux-kernel@vger.kernel.org>,
        <linux-arm-kernel@lists.infradead.org>,
        <linux-mediatek@lists.infradead.org>,
        Marek Szyprowski <m.szyprowski@samsung.com>,
        Tomasz Figa <tfiga@chromium.org>,
        <srv_heupstream@mediatek.com>, <senozhatsky@chromium.org>,
        <mojahsu@chromium.org>, <drinkcat@chromium.org>,
        <maoguang.meng@mediatek.com>, Xia Jiang <xia.jiang@mediatek.com>
Subject: [PATCH v10 26/28] media: platform: Rename existing functions/defines/variables
Date:   Thu, 23 Jul 2020 11:04:49 +0800
Message-ID: <20200723030451.5616-27-xia.jiang@mediatek.com>
X-Mailer: git-send-email 2.18.0
In-Reply-To: <20200723030451.5616-1-xia.jiang@mediatek.com>
References: <20200723030451.5616-1-xia.jiang@mediatek.com>
MIME-Version: 1.0
Content-Type: text/plain
X-MTK:  N
Content-Transfer-Encoding: base64
Sender: linux-media-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-media.vger.kernel.org>
X-Mailing-List: linux-media@vger.kernel.org

UmVuYW1lIGV4aXN0aW5nIGZ1bmN0aW9ucy9kZWZpbmVzL3ZhcmlhYmxlcyB3aXRoIGEgIF9kZWMg
cHJlZml4IGFuZA0Kd2l0aG91dCBkZWNfIHByZWZpeCB0byBwcmVwYXJlIGZvciB0aGUgYWRkaXRp
b24gb2YgdGhlIGpwZWcgZW5jb2Rlcg0KZmVhdHVyZS4NCg0KUmV2aWV3ZWQtYnk6IFRvbWFzeiBG
aWdhIDx0ZmlnYUBjaHJvbWl1bS5vcmc+DQpTaWduZWQtb2ZmLWJ5OiBYaWEgSmlhbmcgPHhpYS5q
aWFuZ0BtZWRpYXRlay5jb20+DQotLS0NCnYxMDogbm8gY2hhbmdlcw0KLS0tDQogLi4uL21lZGlh
L3BsYXRmb3JtL210ay1qcGVnL210a19qcGVnX2NvcmUuYyAgIHwgMTcyICsrKysrKysrKy0tLS0t
LS0tLQ0KIC4uLi9tZWRpYS9wbGF0Zm9ybS9tdGstanBlZy9tdGtfanBlZ19jb3JlLmggICB8ICAx
MiArLQ0KIC4uLi9tZWRpYS9wbGF0Zm9ybS9tdGstanBlZy9tdGtfanBlZ19kZWNfaHcuaCB8ICAg
NSArLQ0KIDMgZmlsZXMgY2hhbmdlZCwgOTcgaW5zZXJ0aW9ucygrKSwgOTIgZGVsZXRpb25zKC0p
DQoNCmRpZmYgLS1naXQgYS9kcml2ZXJzL21lZGlhL3BsYXRmb3JtL210ay1qcGVnL210a19qcGVn
X2NvcmUuYyBiL2RyaXZlcnMvbWVkaWEvcGxhdGZvcm0vbXRrLWpwZWcvbXRrX2pwZWdfY29yZS5j
DQppbmRleCA2MDViNGZiM2Q5MGIuLmUyNDViY2RiNmYxYSAxMDA2NDQNCi0tLSBhL2RyaXZlcnMv
bWVkaWEvcGxhdGZvcm0vbXRrLWpwZWcvbXRrX2pwZWdfY29yZS5jDQorKysgYi9kcml2ZXJzL21l
ZGlhL3BsYXRmb3JtL210ay1qcGVnL210a19qcGVnX2NvcmUuYw0KQEAgLTI3LDExICsyNywxMSBA
QA0KICNpbmNsdWRlICJtdGtfanBlZ19jb3JlLmgiDQogI2luY2x1ZGUgIm10a19qcGVnX2RlY19w
YXJzZS5oIg0KIA0KLXN0YXRpYyBzdHJ1Y3QgbXRrX2pwZWdfZm10IG10a19qcGVnX2Zvcm1hdHNb
XSA9IHsNCitzdGF0aWMgc3RydWN0IG10a19qcGVnX2ZtdCBtdGtfanBlZ19kZWNfZm9ybWF0c1td
ID0gew0KIAl7DQogCQkuZm91cmNjCQk9IFY0TDJfUElYX0ZNVF9KUEVHLA0KIAkJLmNvbHBsYW5l
cwk9IDEsDQotCQkuZmxhZ3MJCT0gTVRLX0pQRUdfRk1UX0ZMQUdfREVDX09VVFBVVCwNCisJCS5m
bGFncwkJPSBNVEtfSlBFR19GTVRfRkxBR19PVVRQVVQsDQogCX0sDQogCXsNCiAJCS5mb3VyY2MJ
CT0gVjRMMl9QSVhfRk1UX1lVVjQyME0sDQpAQCAtNDAsNyArNDAsNyBAQCBzdGF0aWMgc3RydWN0
IG10a19qcGVnX2ZtdCBtdGtfanBlZ19mb3JtYXRzW10gPSB7DQogCQkuY29scGxhbmVzCT0gMywN
CiAJCS5oX2FsaWduCT0gNSwNCiAJCS52X2FsaWduCT0gNCwNCi0JCS5mbGFncwkJPSBNVEtfSlBF
R19GTVRfRkxBR19ERUNfQ0FQVFVSRSwNCisJCS5mbGFncwkJPSBNVEtfSlBFR19GTVRfRkxBR19D
QVBUVVJFLA0KIAl9LA0KIAl7DQogCQkuZm91cmNjCQk9IFY0TDJfUElYX0ZNVF9ZVVY0MjJNLA0K
QEAgLTQ5LDExICs0OSwxMSBAQCBzdGF0aWMgc3RydWN0IG10a19qcGVnX2ZtdCBtdGtfanBlZ19m
b3JtYXRzW10gPSB7DQogCQkuY29scGxhbmVzCT0gMywNCiAJCS5oX2FsaWduCT0gNSwNCiAJCS52
X2FsaWduCT0gMywNCi0JCS5mbGFncwkJPSBNVEtfSlBFR19GTVRfRkxBR19ERUNfQ0FQVFVSRSwN
CisJCS5mbGFncwkJPSBNVEtfSlBFR19GTVRfRkxBR19DQVBUVVJFLA0KIAl9LA0KIH07DQogDQot
I2RlZmluZSBNVEtfSlBFR19OVU1fRk9STUFUUyBBUlJBWV9TSVpFKG10a19qcGVnX2Zvcm1hdHMp
DQorI2RlZmluZSBNVEtfSlBFR19ERUNfTlVNX0ZPUk1BVFMgQVJSQVlfU0laRShtdGtfanBlZ19k
ZWNfZm9ybWF0cykNCiANCiBzdHJ1Y3QgbXRrX2pwZWdfc3JjX2J1ZiB7DQogCXN0cnVjdCB2YjJf
djRsMl9idWZmZXIgYjsNCkBAIC0xMTIsMTUgKzExMiwxNSBAQCBzdGF0aWMgaW50IG10a19qcGVn
X2VudW1fZm10KHN0cnVjdCBtdGtfanBlZ19mbXQgKm10a19qcGVnX2Zvcm1hdHMsIGludCBuLA0K
IHN0YXRpYyBpbnQgbXRrX2pwZWdfZW51bV9mbXRfdmlkX2NhcChzdHJ1Y3QgZmlsZSAqZmlsZSwg
dm9pZCAqcHJpdiwNCiAJCQkJICAgICBzdHJ1Y3QgdjRsMl9mbXRkZXNjICpmKQ0KIHsNCi0JcmV0
dXJuIG10a19qcGVnX2VudW1fZm10KG10a19qcGVnX2Zvcm1hdHMsIE1US19KUEVHX05VTV9GT1JN
QVRTLCBmLA0KLQkJCQkgTVRLX0pQRUdfRk1UX0ZMQUdfREVDX0NBUFRVUkUpOw0KKwlyZXR1cm4g
bXRrX2pwZWdfZW51bV9mbXQobXRrX2pwZWdfZGVjX2Zvcm1hdHMsIE1US19KUEVHX0RFQ19OVU1f
Rk9STUFUUywNCisJCQkJIGYsIE1US19KUEVHX0ZNVF9GTEFHX0NBUFRVUkUpOw0KIH0NCiANCiBz
dGF0aWMgaW50IG10a19qcGVnX2VudW1fZm10X3ZpZF9vdXQoc3RydWN0IGZpbGUgKmZpbGUsIHZv
aWQgKnByaXYsDQogCQkJCSAgICAgc3RydWN0IHY0bDJfZm10ZGVzYyAqZikNCiB7DQotCXJldHVy
biBtdGtfanBlZ19lbnVtX2ZtdChtdGtfanBlZ19mb3JtYXRzLCBNVEtfSlBFR19OVU1fRk9STUFU
UywgZiwNCi0JCQkJIE1US19KUEVHX0ZNVF9GTEFHX0RFQ19PVVRQVVQpOw0KKwlyZXR1cm4gbXRr
X2pwZWdfZW51bV9mbXQobXRrX2pwZWdfZGVjX2Zvcm1hdHMsIE1US19KUEVHX0RFQ19OVU1fRk9S
TUFUUywNCisJCQkJIGYsIE1US19KUEVHX0ZNVF9GTEFHX09VVFBVVCk7DQogfQ0KIA0KIHN0YXRp
YyBzdHJ1Y3QgbXRrX2pwZWdfcV9kYXRhICptdGtfanBlZ19nZXRfcV9kYXRhKHN0cnVjdCBtdGtf
anBlZ19jdHggKmN0eCwNCkBAIC0yNDYsOSArMjQ2LDEwIEBAIHN0YXRpYyBpbnQgbXRrX2pwZWdf
dHJ5X2ZtdF92aWRfY2FwX21wbGFuZShzdHJ1Y3QgZmlsZSAqZmlsZSwgdm9pZCAqcHJpdiwNCiAJ
c3RydWN0IG10a19qcGVnX2N0eCAqY3R4ID0gbXRrX2pwZWdfZmhfdG9fY3R4KHByaXYpOw0KIAlz
dHJ1Y3QgbXRrX2pwZWdfZm10ICpmbXQ7DQogDQotCWZtdCA9IG10a19qcGVnX2ZpbmRfZm9ybWF0
KG10a19qcGVnX2Zvcm1hdHMsIE1US19KUEVHX05VTV9GT1JNQVRTLA0KKwlmbXQgPSBtdGtfanBl
Z19maW5kX2Zvcm1hdChtdGtfanBlZ19kZWNfZm9ybWF0cywNCisJCQkJICAgTVRLX0pQRUdfREVD
X05VTV9GT1JNQVRTLA0KIAkJCQkgICBmLT5mbXQucGl4X21wLnBpeGVsZm9ybWF0LA0KLQkJCQkg
ICBNVEtfSlBFR19GTVRfRkxBR19ERUNfQ0FQVFVSRSk7DQorCQkJCSAgIE1US19KUEVHX0ZNVF9G
TEFHX0NBUFRVUkUpOw0KIAlpZiAoIWZtdCkNCiAJCWZtdCA9IGN0eC0+Y2FwX3EuZm10Ow0KIA0K
QEAgLTI3Myw5ICsyNzQsMTAgQEAgc3RhdGljIGludCBtdGtfanBlZ190cnlfZm10X3ZpZF9vdXRf
bXBsYW5lKHN0cnVjdCBmaWxlICpmaWxlLCB2b2lkICpwcml2LA0KIAlzdHJ1Y3QgbXRrX2pwZWdf
Y3R4ICpjdHggPSBtdGtfanBlZ19maF90b19jdHgocHJpdik7DQogCXN0cnVjdCBtdGtfanBlZ19m
bXQgKmZtdDsNCiANCi0JZm10ID0gbXRrX2pwZWdfZmluZF9mb3JtYXQobXRrX2pwZWdfZm9ybWF0
cywgTVRLX0pQRUdfTlVNX0ZPUk1BVFMsDQorCWZtdCA9IG10a19qcGVnX2ZpbmRfZm9ybWF0KG10
a19qcGVnX2RlY19mb3JtYXRzLA0KKwkJCQkgICBNVEtfSlBFR19ERUNfTlVNX0ZPUk1BVFMsDQog
CQkJCSAgIGYtPmZtdC5waXhfbXAucGl4ZWxmb3JtYXQsDQotCQkJCSAgIE1US19KUEVHX0ZNVF9G
TEFHX0RFQ19PVVRQVVQpOw0KKwkJCQkgICBNVEtfSlBFR19GTVRfRkxBR19PVVRQVVQpOw0KIAlp
ZiAoIWZtdCkNCiAJCWZtdCA9IGN0eC0+b3V0X3EuZm10Ow0KIA0KQEAgLTMxNSw4ICszMTcsOCBA
QCBzdGF0aWMgaW50IG10a19qcGVnX3NfZm10X21wbGFuZShzdHJ1Y3QgbXRrX2pwZWdfY3R4ICpj
dHgsDQogCX0NCiANCiANCi0JcV9kYXRhLT5mbXQgPSBtdGtfanBlZ19maW5kX2Zvcm1hdChtdGtf
anBlZ19mb3JtYXRzLA0KLQkJCQkJICAgTVRLX0pQRUdfTlVNX0ZPUk1BVFMsDQorCXFfZGF0YS0+
Zm10ID0gbXRrX2pwZWdfZmluZF9mb3JtYXQobXRrX2pwZWdfZGVjX2Zvcm1hdHMsDQorCQkJCQkg
ICBNVEtfSlBFR19ERUNfTlVNX0ZPUk1BVFMsDQogCQkJCQkgICBwaXhfbXAtPnBpeGVsZm9ybWF0
LCBmbXRfdHlwZSk7DQogCXFfZGF0YS0+cGl4X21wLndpZHRoID0gcGl4X21wLT53aWR0aDsNCiAJ
cV9kYXRhLT5waXhfbXAuaGVpZ2h0ID0gcGl4X21wLT5oZWlnaHQ7DQpAQCAtMzU4LDcgKzM2MCw3
IEBAIHN0YXRpYyBpbnQgbXRrX2pwZWdfc19mbXRfdmlkX291dF9tcGxhbmUoc3RydWN0IGZpbGUg
KmZpbGUsIHZvaWQgKnByaXYsDQogCQlyZXR1cm4gcmV0Ow0KIA0KIAlyZXR1cm4gbXRrX2pwZWdf
c19mbXRfbXBsYW5lKG10a19qcGVnX2ZoX3RvX2N0eChwcml2KSwgZiwNCi0JCQkJICAgICBNVEtf
SlBFR19GTVRfRkxBR19ERUNfT1VUUFVUKTsNCisJCQkJICAgICBNVEtfSlBFR19GTVRfRkxBR19P
VVRQVVQpOw0KIH0NCiANCiBzdGF0aWMgaW50IG10a19qcGVnX3NfZm10X3ZpZF9jYXBfbXBsYW5l
KHN0cnVjdCBmaWxlICpmaWxlLCB2b2lkICpwcml2LA0KQEAgLTM3MSw3ICszNzMsNyBAQCBzdGF0
aWMgaW50IG10a19qcGVnX3NfZm10X3ZpZF9jYXBfbXBsYW5lKHN0cnVjdCBmaWxlICpmaWxlLCB2
b2lkICpwcml2LA0KIAkJcmV0dXJuIHJldDsNCiANCiAJcmV0dXJuIG10a19qcGVnX3NfZm10X21w
bGFuZShtdGtfanBlZ19maF90b19jdHgocHJpdiksIGYsDQotCQkJCSAgICAgTVRLX0pQRUdfRk1U
X0ZMQUdfREVDX0NBUFRVUkUpOw0KKwkJCQkgICAgIE1US19KUEVHX0ZNVF9GTEFHX0NBUFRVUkUp
Ow0KIH0NCiANCiBzdGF0aWMgdm9pZCBtdGtfanBlZ19xdWV1ZV9zcmNfY2hnX2V2ZW50KHN0cnVj
dCBtdGtfanBlZ19jdHggKmN0eCkNCkBAIC0zOTYsOCArMzk4LDggQEAgc3RhdGljIGludCBtdGtf
anBlZ19zdWJzY3JpYmVfZXZlbnQoc3RydWN0IHY0bDJfZmggKmZoLA0KIAlyZXR1cm4gdjRsMl9j
dHJsX3N1YnNjcmliZV9ldmVudChmaCwgc3ViKTsNCiB9DQogDQotc3RhdGljIGludCBtdGtfanBl
Z19nX3NlbGVjdGlvbihzdHJ1Y3QgZmlsZSAqZmlsZSwgdm9pZCAqcHJpdiwNCi0JCQkJc3RydWN0
IHY0bDJfc2VsZWN0aW9uICpzKQ0KK3N0YXRpYyBpbnQgbXRrX2pwZWdfZGVjX2dfc2VsZWN0aW9u
KHN0cnVjdCBmaWxlICpmaWxlLCB2b2lkICpwcml2LA0KKwkJCQkgICAgc3RydWN0IHY0bDJfc2Vs
ZWN0aW9uICpzKQ0KIHsNCiAJc3RydWN0IG10a19qcGVnX2N0eCAqY3R4ID0gbXRrX2pwZWdfZmhf
dG9fY3R4KHByaXYpOw0KIA0KQEAgLTQyNSw3ICs0MjcsNyBAQCBzdGF0aWMgaW50IG10a19qcGVn
X2dfc2VsZWN0aW9uKHN0cnVjdCBmaWxlICpmaWxlLCB2b2lkICpwcml2LA0KIAlyZXR1cm4gMDsN
CiB9DQogDQotc3RhdGljIGNvbnN0IHN0cnVjdCB2NGwyX2lvY3RsX29wcyBtdGtfanBlZ19pb2N0
bF9vcHMgPSB7DQorc3RhdGljIGNvbnN0IHN0cnVjdCB2NGwyX2lvY3RsX29wcyBtdGtfanBlZ19k
ZWNfaW9jdGxfb3BzID0gew0KIAkudmlkaW9jX3F1ZXJ5Y2FwICAgICAgICAgICAgICAgID0gbXRr
X2pwZWdfcXVlcnljYXAsDQogCS52aWRpb2NfZW51bV9mbXRfdmlkX2NhcAk9IG10a19qcGVnX2Vu
dW1fZm10X3ZpZF9jYXAsDQogCS52aWRpb2NfZW51bV9mbXRfdmlkX291dAk9IG10a19qcGVnX2Vu
dW1fZm10X3ZpZF9vdXQsDQpAQCAtNDM3LDcgKzQzOSw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3Qg
djRsMl9pb2N0bF9vcHMgbXRrX2pwZWdfaW9jdGxfb3BzID0gew0KIAkudmlkaW9jX3NfZm10X3Zp
ZF9vdXRfbXBsYW5lICAgID0gbXRrX2pwZWdfc19mbXRfdmlkX291dF9tcGxhbmUsDQogCS52aWRp
b2NfcWJ1ZiAgICAgICAgICAgICAgICAgICAgPSB2NGwyX20ybV9pb2N0bF9xYnVmLA0KIAkudmlk
aW9jX3N1YnNjcmliZV9ldmVudCAgICAgICAgID0gbXRrX2pwZWdfc3Vic2NyaWJlX2V2ZW50LA0K
LQkudmlkaW9jX2dfc2VsZWN0aW9uCQk9IG10a19qcGVnX2dfc2VsZWN0aW9uLA0KKwkudmlkaW9j
X2dfc2VsZWN0aW9uCQk9IG10a19qcGVnX2RlY19nX3NlbGVjdGlvbiwNCiANCiAJLnZpZGlvY19j
cmVhdGVfYnVmcwkJPSB2NGwyX20ybV9pb2N0bF9jcmVhdGVfYnVmcywNCiAJLnZpZGlvY19wcmVw
YXJlX2J1ZgkJPSB2NGwyX20ybV9pb2N0bF9wcmVwYXJlX2J1ZiwNCkBAIC01MTcsOSArNTE5LDkg
QEAgc3RhdGljIGJvb2wgbXRrX2pwZWdfY2hlY2tfcmVzb2x1dGlvbl9jaGFuZ2Uoc3RydWN0IG10
a19qcGVnX2N0eCAqY3R4LA0KIAl9DQogDQogCXFfZGF0YSA9ICZjdHgtPmNhcF9xOw0KLQlpZiAo
cV9kYXRhLT5mbXQgIT0gbXRrX2pwZWdfZmluZF9mb3JtYXQobXRrX2pwZWdfZm9ybWF0cywNCi0J
CQlNVEtfSlBFR19OVU1fRk9STUFUUywgcGFyYW0tPmRzdF9mb3VyY2MsDQotCQkJTVRLX0pQRUdf
Rk1UX0ZMQUdfREVDX0NBUFRVUkUpKSB7DQorCWlmIChxX2RhdGEtPmZtdCAhPSBtdGtfanBlZ19m
aW5kX2Zvcm1hdChtdGtfanBlZ19kZWNfZm9ybWF0cywNCisJCQlNVEtfSlBFR19ERUNfTlVNX0ZP
Uk1BVFMsIHBhcmFtLT5kc3RfZm91cmNjLA0KKwkJCU1US19KUEVHX0ZNVF9GTEFHX0NBUFRVUkUp
KSB7DQogCQl2NGwyX2RiZygxLCBkZWJ1ZywgJmpwZWctPnY0bDJfZGV2LCAiZm9ybWF0IGNoYW5n
ZVxuIik7DQogCQlyZXR1cm4gdHJ1ZTsNCiAJfQ0KQEAgLTU0MCwxMCArNTQyLDEwIEBAIHN0YXRp
YyB2b2lkIG10a19qcGVnX3NldF9xdWV1ZV9kYXRhKHN0cnVjdCBtdGtfanBlZ19jdHggKmN0eCwN
CiAJcV9kYXRhID0gJmN0eC0+Y2FwX3E7DQogCXFfZGF0YS0+cGl4X21wLndpZHRoID0gcGFyYW0t
PmRlY193Ow0KIAlxX2RhdGEtPnBpeF9tcC5oZWlnaHQgPSBwYXJhbS0+ZGVjX2g7DQotCXFfZGF0
YS0+Zm10ID0gbXRrX2pwZWdfZmluZF9mb3JtYXQobXRrX2pwZWdfZm9ybWF0cywNCi0JCQkJCSAg
IE1US19KUEVHX05VTV9GT1JNQVRTLA0KKwlxX2RhdGEtPmZtdCA9IG10a19qcGVnX2ZpbmRfZm9y
bWF0KG10a19qcGVnX2RlY19mb3JtYXRzLA0KKwkJCQkJICAgTVRLX0pQRUdfREVDX05VTV9GT1JN
QVRTLA0KIAkJCQkJICAgcGFyYW0tPmRzdF9mb3VyY2MsDQotCQkJCQkgICBNVEtfSlBFR19GTVRf
RkxBR19ERUNfQ0FQVFVSRSk7DQorCQkJCQkgICBNVEtfSlBFR19GTVRfRkxBR19DQVBUVVJFKTsN
CiANCiAJZm9yIChpID0gMDsgaSA8IHFfZGF0YS0+Zm10LT5jb2xwbGFuZXM7IGkrKykgew0KIAkJ
cV9kYXRhLT5waXhfbXAucGxhbmVfZm10W2ldLmJ5dGVzcGVybGluZSA9IHBhcmFtLT5tZW1fc3Ry
aWRlW2ldOw0KQEAgLTU2MCw3ICs1NjIsNyBAQCBzdGF0aWMgdm9pZCBtdGtfanBlZ19zZXRfcXVl
dWVfZGF0YShzdHJ1Y3QgbXRrX2pwZWdfY3R4ICpjdHgsDQogCQkgcGFyYW0tPmRlY193LCBwYXJh
bS0+ZGVjX2gpOw0KIH0NCiANCi1zdGF0aWMgdm9pZCBtdGtfanBlZ19idWZfcXVldWUoc3RydWN0
IHZiMl9idWZmZXIgKnZiKQ0KK3N0YXRpYyB2b2lkIG10a19qcGVnX2RlY19idWZfcXVldWUoc3Ry
dWN0IHZiMl9idWZmZXIgKnZiKQ0KIHsNCiAJc3RydWN0IG10a19qcGVnX2N0eCAqY3R4ID0gdmIy
X2dldF9kcnZfcHJpdih2Yi0+dmIyX3F1ZXVlKTsNCiAJc3RydWN0IG10a19qcGVnX2RlY19wYXJh
bSAqcGFyYW07DQpAQCAtNjA4LDcgKzYxMCw3IEBAIHN0YXRpYyBzdHJ1Y3QgdmIyX3Y0bDJfYnVm
ZmVyICptdGtfanBlZ19idWZfcmVtb3ZlKHN0cnVjdCBtdGtfanBlZ19jdHggKmN0eCwNCiAJCXJl
dHVybiB2NGwyX20ybV9kc3RfYnVmX3JlbW92ZShjdHgtPmZoLm0ybV9jdHgpOw0KIH0NCiANCi1z
dGF0aWMgdm9pZCBtdGtfanBlZ19zdG9wX3N0cmVhbWluZyhzdHJ1Y3QgdmIyX3F1ZXVlICpxKQ0K
K3N0YXRpYyB2b2lkIG10a19qcGVnX2RlY19zdG9wX3N0cmVhbWluZyhzdHJ1Y3QgdmIyX3F1ZXVl
ICpxKQ0KIHsNCiAJc3RydWN0IG10a19qcGVnX2N0eCAqY3R4ID0gdmIyX2dldF9kcnZfcHJpdihx
KTsNCiAJc3RydWN0IHZiMl92NGwyX2J1ZmZlciAqdmI7DQpAQCAtNjM0LDEzICs2MzYsMTMgQEAg
c3RhdGljIHZvaWQgbXRrX2pwZWdfc3RvcF9zdHJlYW1pbmcoc3RydWN0IHZiMl9xdWV1ZSAqcSkN
CiAJCXY0bDJfbTJtX2J1Zl9kb25lKHZiLCBWQjJfQlVGX1NUQVRFX0VSUk9SKTsNCiB9DQogDQot
c3RhdGljIGNvbnN0IHN0cnVjdCB2YjJfb3BzIG10a19qcGVnX3FvcHMgPSB7DQorc3RhdGljIGNv
bnN0IHN0cnVjdCB2YjJfb3BzIG10a19qcGVnX2RlY19xb3BzID0gew0KIAkucXVldWVfc2V0dXAg
ICAgICAgID0gbXRrX2pwZWdfcXVldWVfc2V0dXAsDQogCS5idWZfcHJlcGFyZSAgICAgICAgPSBt
dGtfanBlZ19idWZfcHJlcGFyZSwNCi0JLmJ1Zl9xdWV1ZSAgICAgICAgICA9IG10a19qcGVnX2J1
Zl9xdWV1ZSwNCisJLmJ1Zl9xdWV1ZSAgICAgICAgICA9IG10a19qcGVnX2RlY19idWZfcXVldWUs
DQogCS53YWl0X3ByZXBhcmUgICAgICAgPSB2YjJfb3BzX3dhaXRfcHJlcGFyZSwNCiAJLndhaXRf
ZmluaXNoICAgICAgICA9IHZiMl9vcHNfd2FpdF9maW5pc2gsDQotCS5zdG9wX3N0cmVhbWluZyAg
ICAgPSBtdGtfanBlZ19zdG9wX3N0cmVhbWluZywNCisJLnN0b3Bfc3RyZWFtaW5nICAgICA9IG10
a19qcGVnX2RlY19zdG9wX3N0cmVhbWluZywNCiB9Ow0KIA0KIHN0YXRpYyB2b2lkIG10a19qcGVn
X3NldF9kZWNfc3JjKHN0cnVjdCBtdGtfanBlZ19jdHggKmN0eCwNCkBAIC02ODAsNyArNjgyLDcg
QEAgc3RhdGljIGludCBtdGtfanBlZ19zZXRfZGVjX2RzdChzdHJ1Y3QgbXRrX2pwZWdfY3R4ICpj
dHgsDQogCXJldHVybiAwOw0KIH0NCiANCi1zdGF0aWMgdm9pZCBtdGtfanBlZ19kZXZpY2VfcnVu
KHZvaWQgKnByaXYpDQorc3RhdGljIHZvaWQgbXRrX2pwZWdfZGVjX2RldmljZV9ydW4odm9pZCAq
cHJpdikNCiB7DQogCXN0cnVjdCBtdGtfanBlZ19jdHggKmN0eCA9IHByaXY7DQogCXN0cnVjdCBt
dGtfanBlZ19kZXYgKmpwZWcgPSBjdHgtPmpwZWc7DQpAQCAtNzE1LDExICs3MTcsMTEgQEAgc3Rh
dGljIHZvaWQgbXRrX2pwZWdfZGV2aWNlX3J1bih2b2lkICpwcml2KQ0KIAkJZ290byBkZWNfZW5k
Ow0KIA0KIAlzcGluX2xvY2tfaXJxc2F2ZSgmanBlZy0+aHdfbG9jaywgZmxhZ3MpOw0KLQltdGtf
anBlZ19kZWNfcmVzZXQoanBlZy0+ZGVjX3JlZ19iYXNlKTsNCi0JbXRrX2pwZWdfZGVjX3NldF9j
b25maWcoanBlZy0+ZGVjX3JlZ19iYXNlLA0KKwltdGtfanBlZ19kZWNfcmVzZXQoanBlZy0+cmVn
X2Jhc2UpOw0KKwltdGtfanBlZ19kZWNfc2V0X2NvbmZpZyhqcGVnLT5yZWdfYmFzZSwNCiAJCQkJ
JmpwZWdfc3JjX2J1Zi0+ZGVjX3BhcmFtLCAmYnMsICZmYik7DQogDQotCW10a19qcGVnX2RlY19z
dGFydChqcGVnLT5kZWNfcmVnX2Jhc2UpOw0KKwltdGtfanBlZ19kZWNfc3RhcnQoanBlZy0+cmVn
X2Jhc2UpOw0KIAlzcGluX3VubG9ja19pcnFyZXN0b3JlKCZqcGVnLT5od19sb2NrLCBmbGFncyk7
DQogCXJldHVybjsNCiANCkBAIC03MzEsMTYgKzczMywxNiBAQCBzdGF0aWMgdm9pZCBtdGtfanBl
Z19kZXZpY2VfcnVuKHZvaWQgKnByaXYpDQogCXY0bDJfbTJtX2pvYl9maW5pc2goanBlZy0+bTJt
X2RldiwgY3R4LT5maC5tMm1fY3R4KTsNCiB9DQogDQotc3RhdGljIGludCBtdGtfanBlZ19qb2Jf
cmVhZHkodm9pZCAqcHJpdikNCitzdGF0aWMgaW50IG10a19qcGVnX2RlY19qb2JfcmVhZHkodm9p
ZCAqcHJpdikNCiB7DQogCXN0cnVjdCBtdGtfanBlZ19jdHggKmN0eCA9IHByaXY7DQogDQogCXJl
dHVybiAoY3R4LT5zdGF0ZSA9PSBNVEtfSlBFR19SVU5OSU5HKSA/IDEgOiAwOw0KIH0NCiANCi1z
dGF0aWMgY29uc3Qgc3RydWN0IHY0bDJfbTJtX29wcyBtdGtfanBlZ19tMm1fb3BzID0gew0KLQku
ZGV2aWNlX3J1biA9IG10a19qcGVnX2RldmljZV9ydW4sDQotCS5qb2JfcmVhZHkgID0gbXRrX2pw
ZWdfam9iX3JlYWR5LA0KK3N0YXRpYyBjb25zdCBzdHJ1Y3QgdjRsMl9tMm1fb3BzIG10a19qcGVn
X2RlY19tMm1fb3BzID0gew0KKwkuZGV2aWNlX3J1biA9IG10a19qcGVnX2RlY19kZXZpY2VfcnVu
LA0KKwkuam9iX3JlYWR5ICA9IG10a19qcGVnX2RlY19qb2JfcmVhZHksDQogfTsNCiANCiBzdGF0
aWMgaW50IG10a19qcGVnX3F1ZXVlX2luaXQodm9pZCAqcHJpdiwgc3RydWN0IHZiMl9xdWV1ZSAq
c3JjX3ZxLA0KQEAgLTc1Myw3ICs3NTUsNyBAQCBzdGF0aWMgaW50IG10a19qcGVnX3F1ZXVlX2lu
aXQodm9pZCAqcHJpdiwgc3RydWN0IHZiMl9xdWV1ZSAqc3JjX3ZxLA0KIAlzcmNfdnEtPmlvX21v
ZGVzID0gVkIyX0RNQUJVRiB8IFZCMl9NTUFQOw0KIAlzcmNfdnEtPmRydl9wcml2ID0gY3R4Ow0K
IAlzcmNfdnEtPmJ1Zl9zdHJ1Y3Rfc2l6ZSA9IHNpemVvZihzdHJ1Y3QgbXRrX2pwZWdfc3JjX2J1
Zik7DQotCXNyY192cS0+b3BzID0gJm10a19qcGVnX3FvcHM7DQorCXNyY192cS0+b3BzID0gJm10
a19qcGVnX2RlY19xb3BzOw0KIAlzcmNfdnEtPm1lbV9vcHMgPSAmdmIyX2RtYV9jb250aWdfbWVt
b3BzOw0KIAlzcmNfdnEtPnRpbWVzdGFtcF9mbGFncyA9IFY0TDJfQlVGX0ZMQUdfVElNRVNUQU1Q
X0NPUFk7DQogCXNyY192cS0+bG9jayA9ICZjdHgtPmpwZWctPmxvY2s7DQpAQCAtNzY2LDcgKzc2
OCw3IEBAIHN0YXRpYyBpbnQgbXRrX2pwZWdfcXVldWVfaW5pdCh2b2lkICpwcml2LCBzdHJ1Y3Qg
dmIyX3F1ZXVlICpzcmNfdnEsDQogCWRzdF92cS0+aW9fbW9kZXMgPSBWQjJfRE1BQlVGIHwgVkIy
X01NQVA7DQogCWRzdF92cS0+ZHJ2X3ByaXYgPSBjdHg7DQogCWRzdF92cS0+YnVmX3N0cnVjdF9z
aXplID0gc2l6ZW9mKHN0cnVjdCB2NGwyX20ybV9idWZmZXIpOw0KLQlkc3RfdnEtPm9wcyA9ICZt
dGtfanBlZ19xb3BzOw0KKwlkc3RfdnEtPm9wcyA9ICZtdGtfanBlZ19kZWNfcW9wczsNCiAJZHN0
X3ZxLT5tZW1fb3BzID0gJnZiMl9kbWFfY29udGlnX21lbW9wczsNCiAJZHN0X3ZxLT50aW1lc3Rh
bXBfZmxhZ3MgPSBWNEwyX0JVRl9GTEFHX1RJTUVTVEFNUF9DT1BZOw0KIAlkc3RfdnEtPmxvY2sg
PSAmY3R4LT5qcGVnLT5sb2NrOw0KQEAgLTgwOCw3ICs4MTAsNyBAQCBzdGF0aWMgaXJxcmV0dXJu
X3QgbXRrX2pwZWdfZGVjX2lycShpbnQgaXJxLCB2b2lkICpwcml2KQ0KIA0KIAljYW5jZWxfZGVs
YXllZF93b3JrKCZqcGVnLT5qb2JfdGltZW91dF93b3JrKTsNCiANCi0JZGVjX3JldCA9IG10a19q
cGVnX2RlY19nZXRfaW50X3N0YXR1cyhqcGVnLT5kZWNfcmVnX2Jhc2UpOw0KKwlkZWNfcmV0ID0g
bXRrX2pwZWdfZGVjX2dldF9pbnRfc3RhdHVzKGpwZWctPnJlZ19iYXNlKTsNCiAJZGVjX2lycV9y
ZXQgPSBtdGtfanBlZ19kZWNfZW51bV9yZXN1bHQoZGVjX3JldCk7DQogCWN0eCA9IHY0bDJfbTJt
X2dldF9jdXJyX3ByaXYoanBlZy0+bTJtX2Rldik7DQogCWlmICghY3R4KSB7DQpAQCAtODIxLDcg
KzgyMyw3IEBAIHN0YXRpYyBpcnFyZXR1cm5fdCBtdGtfanBlZ19kZWNfaXJxKGludCBpcnEsIHZv
aWQgKnByaXYpDQogCWpwZWdfc3JjX2J1ZiA9IG10a19qcGVnX3ZiMl90b19zcmNidWYoJnNyY19i
dWYtPnZiMl9idWYpOw0KIA0KIAlpZiAoZGVjX2lycV9yZXQgPj0gTVRLX0pQRUdfREVDX1JFU1VM
VF9VTkRFUkZMT1cpDQotCQltdGtfanBlZ19kZWNfcmVzZXQoanBlZy0+ZGVjX3JlZ19iYXNlKTsN
CisJCW10a19qcGVnX2RlY19yZXNldChqcGVnLT5yZWdfYmFzZSk7DQogDQogCWlmIChkZWNfaXJx
X3JldCAhPSBNVEtfSlBFR19ERUNfUkVTVUxUX0VPRl9ET05FKSB7DQogCQlkZXZfZXJyKGpwZWct
PmRldiwgImRlY29kZSBmYWlsZWRcbiIpOw0KQEAgLTg1MSwxNyArODUzLDE5IEBAIHN0YXRpYyB2
b2lkIG10a19qcGVnX3NldF9kZWZhdWx0X3BhcmFtcyhzdHJ1Y3QgbXRrX2pwZWdfY3R4ICpjdHgp
DQogCXEtPnBpeF9tcC5xdWFudGl6YXRpb24gPSBWNEwyX1FVQU5USVpBVElPTl9GVUxMX1JBTkdF
Ow0KIAlxLT5waXhfbXAueGZlcl9mdW5jID0gVjRMMl9YRkVSX0ZVTkNfU1JHQjsNCiANCi0JcS0+
Zm10ID0gbXRrX2pwZWdfZmluZF9mb3JtYXQobXRrX2pwZWdfZm9ybWF0cywgTVRLX0pQRUdfTlVN
X0ZPUk1BVFMsDQorCXEtPmZtdCA9IG10a19qcGVnX2ZpbmRfZm9ybWF0KG10a19qcGVnX2RlY19m
b3JtYXRzLA0KKwkJCQkgICAgICBNVEtfSlBFR19ERUNfTlVNX0ZPUk1BVFMsDQogCQkJCSAgICAg
IFY0TDJfUElYX0ZNVF9KUEVHLA0KLQkJCQkgICAgICBNVEtfSlBFR19GTVRfRkxBR19ERUNfT1VU
UFVUKTsNCisJCQkJICAgICAgTVRLX0pQRUdfRk1UX0ZMQUdfT1VUUFVUKTsNCiAJcS0+cGl4X21w
LndpZHRoID0gTVRLX0pQRUdfTUlOX1dJRFRIOw0KIAlxLT5waXhfbXAuaGVpZ2h0ID0gTVRLX0pQ
RUdfTUlOX0hFSUdIVDsNCiAJbXRrX2pwZWdfdHJ5X2ZtdF9tcGxhbmUoJnEtPnBpeF9tcCwgcS0+
Zm10KTsNCiANCiAJcSA9ICZjdHgtPmNhcF9xOw0KLQlxLT5mbXQgPSBtdGtfanBlZ19maW5kX2Zv
cm1hdChtdGtfanBlZ19mb3JtYXRzLCBNVEtfSlBFR19OVU1fRk9STUFUUywNCisJcS0+Zm10ID0g
bXRrX2pwZWdfZmluZF9mb3JtYXQobXRrX2pwZWdfZGVjX2Zvcm1hdHMsDQorCQkJCSAgICAgIE1U
S19KUEVHX0RFQ19OVU1fRk9STUFUUywNCiAJCQkJICAgICAgVjRMMl9QSVhfRk1UX1lVVjQyME0s
DQotCQkJCSAgICAgIE1US19KUEVHX0ZNVF9GTEFHX0RFQ19DQVBUVVJFKTsNCisJCQkJICAgICAg
TVRLX0pQRUdfRk1UX0ZMQUdfQ0FQVFVSRSk7DQogCXEtPnBpeF9tcC5jb2xvcnNwYWNlID0gVjRM
Ml9DT0xPUlNQQUNFX1NSR0I7DQogCXEtPnBpeF9tcC55Y2Jjcl9lbmMgPSBWNEwyX1lDQkNSX0VO
Q182MDE7DQogCXEtPnBpeF9tcC5xdWFudGl6YXRpb24gPSBWNEwyX1FVQU5USVpBVElPTl9GVUxM
X1JBTkdFOw0KQEAgLTEwMDAsNyArMTAwNCw3IEBAIHN0YXRpYyB2b2lkIG10a19qcGVnX2pvYl90
aW1lb3V0X3dvcmsoc3RydWN0IHdvcmtfc3RydWN0ICp3b3JrKQ0KIAlzcmNfYnVmID0gdjRsMl9t
Mm1fc3JjX2J1Zl9yZW1vdmUoY3R4LT5maC5tMm1fY3R4KTsNCiAJZHN0X2J1ZiA9IHY0bDJfbTJt
X2RzdF9idWZfcmVtb3ZlKGN0eC0+ZmgubTJtX2N0eCk7DQogDQotCW10a19qcGVnX2RlY19yZXNl
dChqcGVnLT5kZWNfcmVnX2Jhc2UpOw0KKwltdGtfanBlZ19kZWNfcmVzZXQoanBlZy0+cmVnX2Jh
c2UpOw0KIA0KIAlwbV9ydW50aW1lX3B1dChqcGVnLT5kZXYpOw0KIA0KQEAgLTEwMTIsNyArMTAx
Niw3IEBAIHN0YXRpYyBpbnQgbXRrX2pwZWdfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAq
cGRldikNCiB7DQogCXN0cnVjdCBtdGtfanBlZ19kZXYgKmpwZWc7DQogCXN0cnVjdCByZXNvdXJj
ZSAqcmVzOw0KLQlpbnQgZGVjX2lycTsNCisJaW50IGpwZWdfaXJxOw0KIAlpbnQgcmV0Ow0KIA0K
IAlqcGVnID0gZGV2bV9remFsbG9jKCZwZGV2LT5kZXYsIHNpemVvZigqanBlZyksIEdGUF9LRVJO
RUwpOw0KQEAgLTEwMjUsMjMgKzEwMjksMjMgQEAgc3RhdGljIGludCBtdGtfanBlZ19wcm9iZShz
dHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQ0KIAlJTklUX0RFTEFZRURfV09SSygmanBlZy0+
am9iX3RpbWVvdXRfd29yaywgbXRrX2pwZWdfam9iX3RpbWVvdXRfd29yayk7DQogDQogCXJlcyA9
IHBsYXRmb3JtX2dldF9yZXNvdXJjZShwZGV2LCBJT1JFU09VUkNFX01FTSwgMCk7DQotCWpwZWct
PmRlY19yZWdfYmFzZSA9IGRldm1faW9yZW1hcF9yZXNvdXJjZSgmcGRldi0+ZGV2LCByZXMpOw0K
LQlpZiAoSVNfRVJSKGpwZWctPmRlY19yZWdfYmFzZSkpIHsNCi0JCXJldCA9IFBUUl9FUlIoanBl
Zy0+ZGVjX3JlZ19iYXNlKTsNCisJanBlZy0+cmVnX2Jhc2UgPSBkZXZtX2lvcmVtYXBfcmVzb3Vy
Y2UoJnBkZXYtPmRldiwgcmVzKTsNCisJaWYgKElTX0VSUihqcGVnLT5yZWdfYmFzZSkpIHsNCisJ
CXJldCA9IFBUUl9FUlIoanBlZy0+cmVnX2Jhc2UpOw0KIAkJcmV0dXJuIHJldDsNCiAJfQ0KIA0K
LQlkZWNfaXJxID0gcGxhdGZvcm1fZ2V0X2lycShwZGV2LCAwKTsNCi0JaWYgKGRlY19pcnEgPCAw
KSB7DQotCQlkZXZfZXJyKCZwZGV2LT5kZXYsICJGYWlsZWQgdG8gZ2V0IGRlY19pcnEgJWQuXG4i
LCBkZWNfaXJxKTsNCi0JCXJldHVybiBkZWNfaXJxOw0KKwlqcGVnX2lycSA9IHBsYXRmb3JtX2dl
dF9pcnEocGRldiwgMCk7DQorCWlmIChqcGVnX2lycSA8IDApIHsNCisJCWRldl9lcnIoJnBkZXYt
PmRldiwgIkZhaWxlZCB0byBnZXQganBlZ19pcnEgJWQuXG4iLCBqcGVnX2lycSk7DQorCQlyZXR1
cm4ganBlZ19pcnE7DQogCX0NCiANCi0JcmV0ID0gZGV2bV9yZXF1ZXN0X2lycSgmcGRldi0+ZGV2
LCBkZWNfaXJxLCBtdGtfanBlZ19kZWNfaXJxLCAwLA0KKwlyZXQgPSBkZXZtX3JlcXVlc3RfaXJx
KCZwZGV2LT5kZXYsIGpwZWdfaXJxLCBtdGtfanBlZ19kZWNfaXJxLCAwLA0KIAkJCSAgICAgICBw
ZGV2LT5uYW1lLCBqcGVnKTsNCiAJaWYgKHJldCkgew0KLQkJZGV2X2VycigmcGRldi0+ZGV2LCAi
RmFpbGVkIHRvIHJlcXVlc3QgZGVjX2lycSAlZCAoJWQpXG4iLA0KLQkJCWRlY19pcnEsIHJldCk7
DQorCQlkZXZfZXJyKCZwZGV2LT5kZXYsICJGYWlsZWQgdG8gcmVxdWVzdCBqcGVnX2lycSAlZCAo
JWQpXG4iLA0KKwkJCWpwZWdfaXJxLCByZXQpOw0KIAkJZ290byBlcnJfcmVxX2lycTsNCiAJfQ0K
IA0KQEAgLTEwNTgsNDAgKzEwNjIsNDAgQEAgc3RhdGljIGludCBtdGtfanBlZ19wcm9iZShzdHJ1
Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQ0KIAkJZ290byBlcnJfZGV2X3JlZ2lzdGVyOw0KIAl9
DQogDQotCWpwZWctPm0ybV9kZXYgPSB2NGwyX20ybV9pbml0KCZtdGtfanBlZ19tMm1fb3BzKTsN
CisJanBlZy0+bTJtX2RldiA9IHY0bDJfbTJtX2luaXQoJm10a19qcGVnX2RlY19tMm1fb3BzKTsN
CiAJaWYgKElTX0VSUihqcGVnLT5tMm1fZGV2KSkgew0KIAkJdjRsMl9lcnIoJmpwZWctPnY0bDJf
ZGV2LCAiRmFpbGVkIHRvIGluaXQgbWVtMm1lbSBkZXZpY2VcbiIpOw0KIAkJcmV0ID0gUFRSX0VS
UihqcGVnLT5tMm1fZGV2KTsNCiAJCWdvdG8gZXJyX20ybV9pbml0Ow0KIAl9DQogDQotCWpwZWct
PmRlY192ZGV2ID0gdmlkZW9fZGV2aWNlX2FsbG9jKCk7DQotCWlmICghanBlZy0+ZGVjX3ZkZXYp
IHsNCisJanBlZy0+dmRldiA9IHZpZGVvX2RldmljZV9hbGxvYygpOw0KKwlpZiAoIWpwZWctPnZk
ZXYpIHsNCiAJCXJldCA9IC1FTk9NRU07DQotCQlnb3RvIGVycl9kZWNfdmRldl9hbGxvYzsNCisJ
CWdvdG8gZXJyX3ZmZF9qcGVnX2FsbG9jOw0KIAl9DQotCXNucHJpbnRmKGpwZWctPmRlY192ZGV2
LT5uYW1lLCBzaXplb2YoanBlZy0+ZGVjX3ZkZXYtPm5hbWUpLA0KKwlzbnByaW50ZihqcGVnLT52
ZGV2LT5uYW1lLCBzaXplb2YoanBlZy0+dmRldi0+bmFtZSksDQogCQkgIiVzLWRlYyIsIE1US19K
UEVHX05BTUUpOw0KLQlqcGVnLT5kZWNfdmRldi0+Zm9wcyA9ICZtdGtfanBlZ19mb3BzOw0KLQlq
cGVnLT5kZWNfdmRldi0+aW9jdGxfb3BzID0gJm10a19qcGVnX2lvY3RsX29wczsNCi0JanBlZy0+
ZGVjX3ZkZXYtPm1pbm9yID0gLTE7DQotCWpwZWctPmRlY192ZGV2LT5yZWxlYXNlID0gdmlkZW9f
ZGV2aWNlX3JlbGVhc2U7DQotCWpwZWctPmRlY192ZGV2LT5sb2NrID0gJmpwZWctPmxvY2s7DQot
CWpwZWctPmRlY192ZGV2LT52NGwyX2RldiA9ICZqcGVnLT52NGwyX2RldjsNCi0JanBlZy0+ZGVj
X3ZkZXYtPnZmbF9kaXIgPSBWRkxfRElSX00yTTsNCi0JanBlZy0+ZGVjX3ZkZXYtPmRldmljZV9j
YXBzID0gVjRMMl9DQVBfU1RSRUFNSU5HIHwNCi0JCQkJICAgICAgVjRMMl9DQVBfVklERU9fTTJN
X01QTEFORTsNCi0NCi0JcmV0ID0gdmlkZW9fcmVnaXN0ZXJfZGV2aWNlKGpwZWctPmRlY192ZGV2
LCBWRkxfVFlQRV9WSURFTywgLTEpOw0KKwlqcGVnLT52ZGV2LT5mb3BzID0gJm10a19qcGVnX2Zv
cHM7DQorCWpwZWctPnZkZXYtPmlvY3RsX29wcyA9ICZtdGtfanBlZ19kZWNfaW9jdGxfb3BzOw0K
KwlqcGVnLT52ZGV2LT5taW5vciA9IC0xOw0KKwlqcGVnLT52ZGV2LT5yZWxlYXNlID0gdmlkZW9f
ZGV2aWNlX3JlbGVhc2U7DQorCWpwZWctPnZkZXYtPmxvY2sgPSAmanBlZy0+bG9jazsNCisJanBl
Zy0+dmRldi0+djRsMl9kZXYgPSAmanBlZy0+djRsMl9kZXY7DQorCWpwZWctPnZkZXYtPnZmbF9k
aXIgPSBWRkxfRElSX00yTTsNCisJanBlZy0+dmRldi0+ZGV2aWNlX2NhcHMgPSBWNEwyX0NBUF9T
VFJFQU1JTkcgfA0KKwkJCQkgIFY0TDJfQ0FQX1ZJREVPX00yTV9NUExBTkU7DQorDQorCXJldCA9
IHZpZGVvX3JlZ2lzdGVyX2RldmljZShqcGVnLT52ZGV2LCBWRkxfVFlQRV9WSURFTywgLTEpOw0K
IAlpZiAocmV0KSB7DQogCQl2NGwyX2VycigmanBlZy0+djRsMl9kZXYsICJGYWlsZWQgdG8gcmVn
aXN0ZXIgdmlkZW8gZGV2aWNlXG4iKTsNCi0JCWdvdG8gZXJyX2RlY192ZGV2X3JlZ2lzdGVyOw0K
KwkJZ290byBlcnJfdmZkX2pwZWdfcmVnaXN0ZXI7DQogCX0NCiANCi0JdmlkZW9fc2V0X2RydmRh
dGEoanBlZy0+ZGVjX3ZkZXYsIGpwZWcpOw0KKwl2aWRlb19zZXRfZHJ2ZGF0YShqcGVnLT52ZGV2
LCBqcGVnKTsNCiAJdjRsMl9pbmZvKCZqcGVnLT52NGwyX2RldiwNCiAJCSAgImRlY29kZXIgZGV2
aWNlIHJlZ2lzdGVyZWQgYXMgL2Rldi92aWRlbyVkICglZCwlZClcbiIsDQotCQkgIGpwZWctPmRl
Y192ZGV2LT5udW0sIFZJREVPX01BSk9SLCBqcGVnLT5kZWNfdmRldi0+bWlub3IpOw0KKwkJICBq
cGVnLT52ZGV2LT5udW0sIFZJREVPX01BSk9SLCBqcGVnLT52ZGV2LT5taW5vcik7DQogDQogCXBs
YXRmb3JtX3NldF9kcnZkYXRhKHBkZXYsIGpwZWcpOw0KIA0KQEAgLTEwOTksMTAgKzExMDMsMTAg
QEAgc3RhdGljIGludCBtdGtfanBlZ19wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2
KQ0KIA0KIAlyZXR1cm4gMDsNCiANCi1lcnJfZGVjX3ZkZXZfcmVnaXN0ZXI6DQotCXZpZGVvX2Rl
dmljZV9yZWxlYXNlKGpwZWctPmRlY192ZGV2KTsNCitlcnJfdmZkX2pwZWdfcmVnaXN0ZXI6DQor
CXZpZGVvX2RldmljZV9yZWxlYXNlKGpwZWctPnZkZXYpOw0KIA0KLWVycl9kZWNfdmRldl9hbGxv
YzoNCitlcnJfdmZkX2pwZWdfYWxsb2M6DQogCXY0bDJfbTJtX3JlbGVhc2UoanBlZy0+bTJtX2Rl
dik7DQogDQogZXJyX20ybV9pbml0Og0KQEAgLTExMjIsOCArMTEyNiw4IEBAIHN0YXRpYyBpbnQg
bXRrX2pwZWdfcmVtb3ZlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpDQogCXN0cnVjdCBt
dGtfanBlZ19kZXYgKmpwZWcgPSBwbGF0Zm9ybV9nZXRfZHJ2ZGF0YShwZGV2KTsNCiANCiAJcG1f
cnVudGltZV9kaXNhYmxlKCZwZGV2LT5kZXYpOw0KLQl2aWRlb191bnJlZ2lzdGVyX2RldmljZShq
cGVnLT5kZWNfdmRldik7DQotCXZpZGVvX2RldmljZV9yZWxlYXNlKGpwZWctPmRlY192ZGV2KTsN
CisJdmlkZW9fdW5yZWdpc3Rlcl9kZXZpY2UoanBlZy0+dmRldik7DQorCXZpZGVvX2RldmljZV9y
ZWxlYXNlKGpwZWctPnZkZXYpOw0KIAl2NGwyX20ybV9yZWxlYXNlKGpwZWctPm0ybV9kZXYpOw0K
IAl2NGwyX2RldmljZV91bnJlZ2lzdGVyKCZqcGVnLT52NGwyX2Rldik7DQogDQpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9tZWRpYS9wbGF0Zm9ybS9tdGstanBlZy9tdGtfanBlZ19jb3JlLmggYi9kcml2
ZXJzL21lZGlhL3BsYXRmb3JtL210ay1qcGVnL210a19qcGVnX2NvcmUuaA0KaW5kZXggYTU0ZTFl
ODJlNjU1Li4wZjI3NDgwZGQ5MGQgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL21lZGlhL3BsYXRmb3Jt
L210ay1qcGVnL210a19qcGVnX2NvcmUuaA0KKysrIGIvZHJpdmVycy9tZWRpYS9wbGF0Zm9ybS9t
dGstanBlZy9tdGtfanBlZ19jb3JlLmgNCkBAIC0xNyw4ICsxNyw4IEBADQogDQogI2RlZmluZSBN
VEtfSlBFR19DT01QX01BWAkJMw0KIA0KLSNkZWZpbmUgTVRLX0pQRUdfRk1UX0ZMQUdfREVDX09V
VFBVVAlCSVQoMCkNCi0jZGVmaW5lIE1US19KUEVHX0ZNVF9GTEFHX0RFQ19DQVBUVVJFCUJJVCgx
KQ0KKyNkZWZpbmUgTVRLX0pQRUdfRk1UX0ZMQUdfT1VUUFVUCUJJVCgwKQ0KKyNkZWZpbmUgTVRL
X0pQRUdfRk1UX0ZMQUdfQ0FQVFVSRQlCSVQoMSkNCiANCiAjZGVmaW5lIE1US19KUEVHX01JTl9X
SURUSAkzMlUNCiAjZGVmaW5lIE1US19KUEVHX01JTl9IRUlHSFQJMzJVDQpAQCAtNTAsOCArNTAs
OCBAQCBlbnVtIG10a19qcGVnX2N0eF9zdGF0ZSB7DQogICogQHY0bDJfZGV2OgkJdjRsMiBkZXZp
Y2UgZm9yIG1lbTJtZW0gbW9kZQ0KICAqIEBtMm1fZGV2OgkJdjRsMiBtZW0ybWVtIGRldmljZSBk
YXRhDQogICogQGFsbG9jX2N0eDoJCXZpZGVvYnVmMiBtZW1vcnkgYWxsb2NhdG9yJ3MgY29udGV4
dA0KLSAqIEBkZWNfdmRldjoJCXZpZGVvIGRldmljZSBub2RlIGZvciBkZWNvZGVyIG1lbTJtZW0g
bW9kZQ0KLSAqIEBkZWNfcmVnX2Jhc2U6CUpQRUcgcmVnaXN0ZXJzIG1hcHBpbmcNCisgKiBAdmRl
djoJCXZpZGVvIGRldmljZSBub2RlIGZvciBqcGVnIG1lbTJtZW0gbW9kZQ0KKyAqIEByZWdfYmFz
ZToJCUpQRUcgcmVnaXN0ZXJzIG1hcHBpbmcNCiAgKiBAY2xrczoJCWNsb2NrIG5hbWVzDQogICog
QG51bV9jbGtzOgkJbnVtYmVycyBvZiBjbG9jaw0KICAqIEBsYXJiOgkJU01JIGRldmljZQ0KQEAg
LTY1LDggKzY1LDggQEAgc3RydWN0IG10a19qcGVnX2RldiB7DQogCXN0cnVjdCB2NGwyX2Rldmlj
ZQl2NGwyX2RldjsNCiAJc3RydWN0IHY0bDJfbTJtX2RldgkqbTJtX2RldjsNCiAJdm9pZAkJCSph
bGxvY19jdHg7DQotCXN0cnVjdCB2aWRlb19kZXZpY2UJKmRlY192ZGV2Ow0KLQl2b2lkIF9faW9t
ZW0JCSpkZWNfcmVnX2Jhc2U7DQorCXN0cnVjdCB2aWRlb19kZXZpY2UJKnZkZXY7DQorCXZvaWQg
X19pb21lbQkJKnJlZ19iYXNlOw0KIAlzdHJ1Y3QgY2xrX2J1bGtfZGF0YSAqY2xrczsNCiAJaW50
IG51bV9jbGtzOw0KIAlzdHJ1Y3QgZGV2aWNlCQkqbGFyYjsNCmRpZmYgLS1naXQgYS9kcml2ZXJz
L21lZGlhL3BsYXRmb3JtL210ay1qcGVnL210a19qcGVnX2RlY19ody5oIGIvZHJpdmVycy9tZWRp
YS9wbGF0Zm9ybS9tdGstanBlZy9tdGtfanBlZ19kZWNfaHcuaA0KaW5kZXggMWNjMzdkYmZjOGU3
Li5mYTBkNDVmZDdjMzQgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL21lZGlhL3BsYXRmb3JtL210ay1q
cGVnL210a19qcGVnX2RlY19ody5oDQorKysgYi9kcml2ZXJzL21lZGlhL3BsYXRmb3JtL210ay1q
cGVnL210a19qcGVnX2RlY19ody5oDQpAQCAtMywxMCArMywxMSBAQA0KICAqIENvcHlyaWdodCAo
YykgMjAxNiBNZWRpYVRlayBJbmMuDQogICogQXV0aG9yOiBNaW5nIEhzaXUgVHNhaSA8bWluZ2hz
aXUudHNhaUBtZWRpYXRlay5jb20+DQogICogICAgICAgICBSaWNrIENoYW5nIDxyaWNrLmNoYW5n
QG1lZGlhdGVrLmNvbT4NCisgKiAgICAgICAgIFhpYSBKaWFuZyA8eGlhLmppYW5nQG1lZGlhdGVr
LmNvbT4NCiAgKi8NCiANCi0jaWZuZGVmIF9NVEtfSlBFR19IV19IDQotI2RlZmluZSBfTVRLX0pQ
RUdfSFdfSA0KKyNpZm5kZWYgX01US19KUEVHX0RFQ19IV19IDQorI2RlZmluZSBfTVRLX0pQRUdf
REVDX0hXX0gNCiANCiAjaW5jbHVkZSA8bWVkaWEvdmlkZW9idWYyLWNvcmUuaD4NCiANCi0tIA0K
Mi4xOC4wDQo=

